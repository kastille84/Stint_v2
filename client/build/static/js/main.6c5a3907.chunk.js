(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){"use strict";(function(e){var r=a(22);t.a={registerFam:function(t){return new e.Promise(function(e,a){var n={family_nickname:t.family_nickname,family_email:t.family_email,family_password:t.family_password};r.a.axios.post("/register-family",n).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})},registerPerson:function(t){return new e.Promise(function(e,a){r.a.axios.post("/register-person",t).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})},loginFam:function(t){return new e.Promise(function(e,a){var n={family_email:t.family_email,family_password:t.family_password};r.a.axios.post("/login-family",n).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})},loginPerson:function(t){return new e.Promise(function(e,a){var n={pin:t.pin,person_type:t.person_type,person_id:t.person_id};r.a.axios.post("/login-person",n).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})},getFam:function(){return new e.Promise(function(e,t){r.a.axios.get("/family-data").then(function(t){return e(t.data)}).catch(function(e){return t(e)})})},deleteChild:function(t){return new e.Promise(function(e,a){r.a.axios.delete("/delete-child/".concat(t)).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})}}}).call(this,a(28))},144:function(e,t,a){"use strict";(function(e){var r=a(22);t.a={getPersonData:function(t,a){return new e.Promise(function(e,n){r.a.axios.post("/".concat(t,"-data"),{id:a}).then(function(t){return e(t.data)}).catch(function(e){return n(e)})})}}}).call(this,a(28))},145:function(e,t,a){"use strict";(function(e){var r=a(22);t.a={addChore:function(t){return new e.Promise(function(e,a){r.a.axios.post("/add-chore",{chore:t}).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})},editChore:function(t){return new e.Promise(function(e,a){r.a.axios.put("/edit-chore",{oldChore:t.oldChore,newChore:t.newChore}).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})},deleteChore:function(t){return new e.Promise(function(e,a){r.a.axios.delete("/delete-chore/".concat(t)).then(function(t){return e(t.data)}).catch(function(e){return a(e)})})}}}).call(this,a(28))},146:function(e,t,a){"use strict";(function(e){var r=a(22);t.a={saveSchedule:function(t,a){return new e.Promise(function(e,n){r.a.axios.put("/save-schedule",{child_id:t,schedule:a}).then(function(t){return e(t.data)}).catch(function(e){return n(e)})})}}}).call(this,a(28))},147:function(e,t,a){"use strict";(function(e){var r=a(4),n=a(22);t.a={addReward:function(t,a){return new e.Promise(function(e,o){n.a.axios.put("/add-reward",Object(r.a)({child_id:t},a)).then(function(t){return e(t.data)}).catch(function(e){return o(e)})})},editReward:function(t,a){return new e.Promise(function(e,o){n.a.axios.put("/edit-reward",Object(r.a)({child_id:t},a)).then(function(t){return e(t.data)}).catch(function(e){return o(e)})})},addSubtractToGoal:function(t,a,r){return new e.Promise(function(e,o){n.a.axios.put("/add-subtract-goal",{child_id:t,type:a,val:r}).then(function(t){return e(t.data)}).catch(function(e){return o(e)})})}}}).call(this,a(28))},173:function(e,t,a){e.exports=a(333)},22:function(e,t,a){"use strict";var r=a(55),n=a.n(r);n.a.defaults.baseURL="https://stint-chores.herokuapp.com/api";var o=function(){var e=window.localStorage.getItem("family_jwt");return n.a.defaults.headers.common.Authorization="".concat(e),e};o(),t.a={axios:n.a,setSession:function(e,t){window.localStorage.setItem(e,t),"family_jwt"===e&&(n.a.defaults.headers.common.Authorization="".concat(t))},getSession:o,clearSession:function(e){window.localStorage.removeItem(e),n.a.defaults.headers.common.Authorization=""}}},329:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(49),l=a.n(o),s=a(43),i=a(135),c=a(148),d=a.n(c),u=a(136),p=a(16),m=a(20);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(181);var h=a(134),f=a(4),y={personType:null,userData:null,fetching:!1,apiError:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_PERSON":return Object(f.a)({},e,{fetching:!0});case"LOGIN_PERSON_DONE":return Object(f.a)({},e,{fetching:!1,personType:t.payload?Object.keys(t.payload).includes("parent")?"parent":"child":null,userData:t.payload?Object.keys(t.payload).includes("parent")?t.payload.parent:t.payload.child:null,apiError:t.error?t.error:null});case"SET_PERSON_DATA":return Object(f.a)({},e,{fetching:!0});case"SET_PERSON_DATA_DONE":return Object(f.a)({},e,{fetching:!1,personType:t.payload?Object.keys(t.payload).includes("parent")?"parent":"child":null,userData:t.payload?Object.keys(t.payload).includes("parent")?t.payload.parent:t.payload.child:null,apiError:t.error?t.error:null});case"RESET_USER":return Object(f.a)({},y);default:return e}},_=a(36),g=function(e,t){return console.log("familyData",e),console.log("person",t),t.parent&&e.familyData.parents.push(t.parent),t.child&&e.familyData.children.push(t.child),e.familyData},b=function(e,t){return e.familyData.chorelist=[].concat(Object(_.a)(e.familyData.chorelist),[t.chore]),e.familyData.schedules=Object(_.a)(t.schedules),e.familyData},w=function(e,t){var a=e.familyData.chorelist.filter(function(e){return e!==t.oldChore});e.familyData.chorelist=[].concat(Object(_.a)(a),[t.newChore]);var r=[],n=!0,o=!1,l=void 0;try{for(var s,i=function(){var e=s.value;e.monday.forEach(function(a,r){a.chore===t.oldChore&&(e.monday[r].chore=t.newChore)}),e.tuesday.forEach(function(a,r){a.chore===t.oldChore&&(e.tuesday[r].chore=t.newChore)}),e.wednesday.forEach(function(a,r){a.chore===t.oldChore&&(e.wednesday[r].chore=t.newChore)}),e.thursday.forEach(function(a,r){a.chore===t.oldChore&&(e.thursday[r].chore=t.newChore)}),e.friday.forEach(function(a,r){a.chore===t.oldChore&&(e.friday[r].chore=t.newChore)}),e.saturday.forEach(function(a,r){a.chore===t.oldChore&&(e.saturday[r].chore=t.newChore)}),e.sunday.forEach(function(a,r){a.chore===t.oldChore&&(e.sunday[r].chore=t.newChore)}),r.push(e)},c=e.familyData.schedules[Symbol.iterator]();!(n=(s=c.next()).done);n=!0)i()}catch(d){o=!0,l=d}finally{try{n||null==c.return||c.return()}finally{if(o)throw l}}return e.familyData.schedules=r,e.familyData},v=function(e,t){e.familyData.chorelist=t.newChoreList;var a=[],r=!0,n=!1,o=void 0;try{for(var l,s=function(){var e=l.value;e.monday.forEach(function(a,r){a.chore===t.oldChore&&e.monday.splice(r,1)}),e.tuesday.forEach(function(a,r){a.chore===t.oldChore&&e.tuesday.splice(r,1)}),e.wednesday.forEach(function(a,r){a.chore===t.oldChore&&e.wednesday.splice(r,1)}),e.thursday.forEach(function(a,r){a.chore===t.oldChore&&e.thursday.splice(r,1)}),e.friday.forEach(function(a,r){a.chore===t.oldChore&&e.friday.splice(r,1)}),e.saturday.forEach(function(a,r){a.chore===t.oldChore&&e.saturday.splice(r,1)}),e.sunday.forEach(function(a,r){a.chore===t.oldChore&&e.sunday.splice(r,1)}),a.push(e)},i=e.familyData.schedules[Symbol.iterator]();!(r=(l=i.next()).done);r=!0)s()}catch(c){n=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return e.familyData.schedules=a,e.familyData},D=function(e,t){var a=e.familyData.schedules.filter(function(e){return e.child_id!==t.newSchedule.child_id});return a.push(t.newSchedule),e.familyData.schedules=a,e.familyData},S=function(e,t){var a=e.familyData.rewards.filter(function(e){return e.child_id!==t.reward.child_id});return e.familyData.rewards=[].concat(Object(_.a)(a),[t.reward]),e.familyData},O=function(e,t){var a=e.familyData.rewards.filter(function(e){return e.child_id!==t.reward.child_id});return e.familyData.rewards=[].concat(Object(_.a)(a),[t.reward]),e.familyData},C={isFamAuth:!1,isParentAuth:!1,isChildAuth:!1,familyData:null,selectedChild:null,fetching:!1,fetchingReward:!1,fetchingDeleteChild:!1,apiError:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_FAMILY":return Object(f.a)({},e,{fetching:!0});case"REGISTER_FAMILY_DONE":return Object(f.a)({},e,{fetching:!1,familyData:t.payload?t.payload.family:null,apiError:t.error?t.error:null,isFamAuth:!0});case"REGISTER_PERSON":return Object(f.a)({},e,{fetching:!0});case"REGISTER_PERSON_DONE":return Object(f.a)({},e,{fetching:!1,familyData:t.payload?g({familyData:e.familyData},t.payload):null,apiError:t.error?t.error:null});case"LOGIN_FAMILY":return Object(f.a)({},e,{fetching:!0});case"LOGIN_FAMILY_DONE":return Object(f.a)({},e,{fetching:!1,familyData:t.payload?t.payload.family:null,apiError:t.error?t.error:null,isFamAuth:!0});case"SET_FAMILY_DATA":return Object(f.a)({},e,{fetching:!0});case"SET_FAMILY_DATA_DONE":return Object(f.a)({},e,{fetching:!1,familyData:t.payload?Object(f.a)({},t.payload.family):null,apiError:t.error?t.error:null});case"SET_IS_FAM_AUTH":return Object(f.a)({},e,{isFamAuth:t.auth});case"SET_IS_PARENT_AUTH":return Object(f.a)({},e,{isParentAuth:t.auth});case"SET_IS_CHILD_AUTH":return Object(f.a)({},e,{isChildAth:t.auth});case"SET_SELECTED_CHILD":return Object(f.a)({},e,{selectedChild:t.child});case"ADD_CHORE":return Object(f.a)({},e,{fetching:!0});case"ADD_CHORE_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},b({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetching:!1});case"EDIT_CHORE":return Object(f.a)({},e,{fetching:!0});case"EDIT_CHORE_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},w({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetching:!1});case"DELETE_CHORE":return Object(f.a)({},e,{fetching:!0});case"DELETE_CHORE_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},v({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetching:!1});case"SAVE_SCHEDULE":return Object(f.a)({},e,{fetching:!0});case"SAVE_SCHEDULE_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},D({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetching:!1});case"ADD_REWARD":return Object(f.a)({},e,{fetchingReward:!0});case"ADD_REWARD_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},S({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetchingReward:!1});case"EDIT_REWARD":return Object(f.a)({},e,{fetchingReward:!0});case"EDIT_REWARD_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},O({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetchingReward:!1});case"ADD_SUBTRACT_TO_REWARD_GOAL":return Object(f.a)({},e,{fetchingReward:!0});case"ADD_SUBTRACT_TO_REWARD_GOAL_DONE":return Object(f.a)({},e,{familyData:t.payload?Object(f.a)({},O({familyData:e.familyData},t.payload)):e.familyData,apiError:t.error?t.error:null,fetchingReward:!1});case"DELETE_CHILD":return Object(f.a)({},e,{fetchingDeleteChild:!0});case"DELETE_CHILD_DONE":return Object(f.a)({},e,{fetchingDeleteChild:!1,apiError:t.error?t.error:null});default:return e}},j=Object(m.c)({user:E,family:N,form:h.a}),A=a(8),T=a(9),R=a(11),I=a(10),k=a(12),M=a(32),P=a.n(M),x=a(334),F=a(335),L=a(336),B=a(337),G=a(338),U=a(339),H=a(340),W=a(341),Y=a(342),q=a(343),V=a(346),z=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={isOpen:!1},a.logoutFamily=function(){localStorage.removeItem("family_jwt"),a.props.history.push("/family-login")},a.logoutParent=function(){localStorage.removeItem("parent_jwt"),a.props.history.push("/which-user")},a.logoutChild=function(){localStorage.removeItem("child_jwt"),a.props.history.push("/which-user")},a._showFamMenu=function(){return!localStorage.getItem("family_jwt")||localStorage.getItem("parent_jwt")||localStorage.getItem("child_jwt")?localStorage.getItem("family_jwt")||localStorage.getItem("parent_jwt")||localStorage.getItem("child_jwt")?void 0:[n.a.createElement(x.a,{nav:!0,caret:!0,key:"dd"},"Family"),n.a.createElement(F.a,{right:!0,key:"dm"},n.a.createElement(L.a,null,n.a.createElement(B.a,null,n.a.createElement(G.a,{href:"/family-register"},"Register"))),n.a.createElement(L.a,null,n.a.createElement(B.a,null,n.a.createElement(G.a,{href:"/family-login"},"Login"))))]:[n.a.createElement(x.a,{nav:!0,caret:!0,key:"dd"},"Family"),n.a.createElement(F.a,{right:!0,key:"dm"},n.a.createElement(L.a,null,n.a.createElement(B.a,null,n.a.createElement("span",{onClick:function(){return a.logoutFamily()}},"Logout"))))]},a._showParentMenu=function(){if(localStorage.getItem("parent_jwt"))return[n.a.createElement(x.a,{nav:!0,caret:!0,key:"dd"},"Parent"),n.a.createElement(F.a,{right:!0,key:"dm"},n.a.createElement(L.a,null,n.a.createElement(B.a,null,n.a.createElement("span",{onClick:function(){return a.logoutParent()}},"Logout"))))]},a._showChildMenu=function(){if(localStorage.getItem("child_jwt"))return[n.a.createElement(x.a,{nav:!0,caret:!0,key:"dd"},"Child"),n.a.createElement(F.a,{right:!0,key:"dm"},n.a.createElement(L.a,null,n.a.createElement(B.a,null,n.a.createElement("span",{onClick:function(){return a.logoutChild()}},"Logout"))))]},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(U.a,{light:!0,expand:"md"},n.a.createElement(H.a,{href:"/"},"Stint v2"),n.a.createElement(W.a,{onClick:function(){return e.toggle()}}),n.a.createElement(Y.a,{isOpen:this.state.isOpen,navbar:!0},n.a.createElement(q.a,{className:"ml-auto",navbar:!0},n.a.createElement(V.a,{nav:!0,inNavbar:!0},this._showFamMenu(),this._showParentMenu(),this._showChildMenu())))))}}]),t}(r.Component),J=Object(s.f)(z),$=function(e,t){var a=localStorage.getItem("family_jwt"),r=localStorage.getItem("parent_jwt"),n=localStorage.getItem("child_jwt");if("whichUser"===e){if(!a)return void t();if(a&&r||a&&n)return void t()}if("parent"===e){if(a&&!r)return void t();a&&n?t():a||t()}if("child"===e){if(a&&!n)return void t();a&&r?t():a||t()}},Z=function(e){var t=localStorage.getItem("family_jwt"),a=localStorage.getItem("parent_jwt"),r=localStorage.getItem("child_jwt");(a||r)&&(localStorage.removeItem("parent_jwt"),localStorage.removeItem("child_jwt"),e("/which-user")),!t||a||r||e("/which-user")},X=a(31),K=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){Z(this.props.history.push)}},{key:"render",value:function(){return n.a.createElement("main",{className:"home"},n.a.createElement("section",{className:"jumbotron jumbotron-fluid"},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:""},"Stint Chore Tracker"),n.a.createElement("p",{className:""},"Manage Your Children's Chores & Reward Them Handsomely"))),n.a.createElement("h1",{className:"page-h1"},"Clutter and Mess"),n.a.createElement("section",{className:"home__info-strip"},n.a.createElement("figure",{className:"home__info-img home__info-img--clutter"}),n.a.createElement("div",{className:"home__info-text"},n.a.createElement("h2",{className:"page-h2"},"Adults and children alike, we all make messes in our home. As responsible adults we were taught or learned that we must clean up after ourselves."),n.a.createElement("h2",{className:"page-h2"},"Children must also learn to clean up after themselves. If they start young with minor chores then they will develop a habit of cleaning and feel more responsible."))),n.a.createElement("h1",{className:"page-h1"},"Complete Chores, Get a Reward"),n.a.createElement("section",{className:"home__info-strip"},n.a.createElement("div",{className:"home__info-text"},n.a.createElement("h2",{className:"page-h2"},"With Stint, you give a child a set of chores to complete for the week. Each child can login to their account to record each chore they completed."),n.a.createElement("h2",{className:"page-h2"},"You can set a Goal for each child to reach. If the child reaches the goal then you can give your child a Reward!")),n.a.createElement("figure",{className:"home__info-img home__info-img--clean"})),n.a.createElement("h1",{className:"page-h1"},"Play Around with Stint Right Now!"),n.a.createElement("section",{className:"home__info-strip home__info-strip-credentials"},n.a.createElement("div",{className:"home__info-text"},n.a.createElement(X.a,{to:"/family-login",className:"btn btn-success btn-credentials"},"Login"),n.a.createElement("p",{className:"mt20"},"Using these credentials, create your own!")),n.a.createElement("div",{className:"home__info-text-credentials"},n.a.createElement("p",null,n.a.createElement("span",null,"Family Email:")," ",n.a.createElement("span",null,"test@test.com"),n.a.createElement("span",null,"Family Password:"),n.a.createElement("span",null,"test4400~")),n.a.createElement("p",null,n.a.createElement("span",null,"Parent Name:")," ",n.a.createElement("span",null,"Dad"),n.a.createElement("span",null,"Parent Pin:"),n.a.createElement("span",null,"4400")))))}}]),t}(r.Component),Q=a(121),ee=a(132),te=a(133),ae=a(347),re=a(22),ne=a(143),oe=a(144),le=a(145),se=a(146),ie=a(147),ce={agent:re.a,Family:ne.a,User:oe.a,Chore:le.a,Schedule:se.a,Reward:ie.a},de=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={showPass:!1,visible:!1,errorMessage:null},a.onDismissAlert=function(){a.setState({visible:!1})},a.toggleShowPass=function(){a.setState({showPass:!a.state.showPass})},a.handleSubmit=function(e){e.family_password.length<8?a.setState({visible:!0,errorMessage:"Password should be 8 characters or more."}):/[a-zA-Z]/.test(e.family_password)?/[!#$%()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/.test(e.family_password)?a.props.registerFamily(e,function(e){a.props.history.push(e)},function(e){a.setState({visible:e})}):a.setState({visible:!0,errorMessage:"Password must contain at least one special character except the following: & ' \""}):a.setState({visible:!0,errorMessage:"Password must contain at least one alphabet."})},a.renderAlert=function(e){return a.state.errorMessage?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage):a.props.family.apiError?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},"Error: Please Try again later."):void 0},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){Z(this.props.history.push)}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit;return n.a.createElement("div",{"data-test":"family-register",className:"family-register"},n.a.createElement("section",{className:"form-container"},n.a.createElement("h2",{className:"form-title"},"Family Register"),n.a.createElement("div",{className:"form-wrapper register-form-wrapper"},this.props.family&&this.renderAlert("danger"),n.a.createElement(Q.a,{className:"regsiter-form",onSubmit:t(this.handleSubmit)},n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Family Email"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"family_email",component:"input",type:"text",placeholder:"Enter Email (can be same as primary parent's email)",required:!0}))),n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Family Nickname"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"family_nickname",component:"input",type:"text",placeholder:"Enter Nickname of family",required:!0}))),n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label d-flex justify-content-between"},n.a.createElement("span",null,"Family Password"),n.a.createElement("span",{className:"password-show",onClick:function(){return e.toggleShowPass()}},this.state.showPass?"hide":"show")),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"family_password",component:"input",type:this.state.showPass?"text":"password",placeholder:"Enter password of family email",required:!0}))),n.a.createElement("section",{className:"form__button-toolbar"},n.a.createElement(X.a,{className:"btn btn-secondary-left",to:"/family-login"},"Login"),n.a.createElement("button",{className:"btn btn-success",type:"submit"},"Register"))))))}}]),t}(r.Component),ue=Object(p.b)(function(e){return{registerForm:e.form.register,family:e.family}},function(e){return{registerFamily:function(t,a,r){e({type:"REGISTER_FAMILY"}),ce.Family.registerFam(t).then(function(t){e({type:"REGISTER_FAMILY_DONE",payload:t}),ce.agent.setSession("family_jwt",t.token),a("/which-user")}).catch(function(t){e({type:"REGISTER_FAMILY_DONE",error:t}),r(!0)})}}})(Object(te.a)({form:"register"})(de)),pe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={showPass:!1,visible:!1,errorMessage:null},a.onDismissAlert=function(){a.setState({visible:!1})},a.onShowAlert=function(){a.setState({visible:!0})},a.toggleShowPass=function(){a.setState({showPass:!a.state.showPass})},a.handleSubmit=function(e){e.family_password.length<=8?a.setState({visible:!0,errorMessage:"Password should be more than 8 characters."}):/[a-zA-Z]/.test(e.family_password)?/[!#$%()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/.test(e.family_password)?a.props.loginFamily(e,function(e){a.props.history.push(e)},function(e){a.setState({visible:e})}):a.setState({visible:!0,errorMessage:"Password must contain at least one special character except the following: & ' \""}):a.setState({visible:!0,errorMessage:"Password must contain at least one alphabet."})},a.renderAlert=function(e){return a.state.errorMessage?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage):a.props.family.apiError?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},"Error: Please Try again later."):void 0},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){Z(this.props.history.push)}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit;return n.a.createElement("div",{"data-test":"family-login",className:"family-login"},n.a.createElement("section",{className:"form-container"},n.a.createElement("h2",{className:"form-title"},"Family Login"),n.a.createElement("div",{className:"form-wrapper login-form-wrapper"},this.props.family&&this.renderAlert("danger"),n.a.createElement(Q.a,{className:"login-form",onSubmit:t(this.handleSubmit)},n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Family Email"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"family_email",component:"input",type:"text",placeholder:"Enter Email (can be same as primary parent's email)",required:!0}))),n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label d-flex justify-content-between"},n.a.createElement("span",null,"Family Password"),n.a.createElement("span",{className:"password-show",onClick:function(){return e.toggleShowPass()}},this.state.showPass?"hide":"show")),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"family_password",component:"input",type:this.state.showPass?"text":"password",placeholder:"Enter password of family email",required:!0}))),n.a.createElement("section",{className:"form__button-toolbar"},n.a.createElement(X.a,{className:"btn btn-secondary-left",to:"/family-register"},"Register"),n.a.createElement("button",{className:"btn btn-success"},"Login"))))))}}]),t}(r.Component),me=Object(p.b)(function(e){return{loginForm:e.form.login,family:e.family}},function(e){return{loginFamily:function(t,a,r){e({type:"LOGIN_FAMILY"}),ce.Family.loginFam(t).then(function(t){e({type:"LOGIN_FAMILY_DONE",payload:t}),ce.agent.setSession("family_jwt",t.token),a("/which-user")}).catch(function(t){e({type:"LOGIN_FAMILY_DONE",error:t}),r(!0)})}}})(Object(te.a)({form:"login"})(pe)),he=a(35),fe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).state={display:null},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"add-person"},n.a.createElement("div",{onClick:function(){return e.props.setSelectedBox("addParent")},className:"front ".concat(("addParent"!==this.props.selectedBox||null===this.props.selectedBox)&&" show "," ").concat("addParent"===this.props.selectedBox&&" hide ")},n.a.createElement("section",null),n.a.createElement("section",{className:"add-person__plus"},"+"),n.a.createElement("section",null,"Parent")),n.a.createElement("div",{className:"back ".concat("addParent"===this.props.selectedBox&&" show "," ").concat("addParent"!==this.props.selectedBox&&" hide ")},n.a.createElement("div",null,n.a.createElement("span",{className:"add-person__close",onClick:function(){return e.props.setSelectedBox(null)}},"x")),this.props.children))}}]),t}(r.Component),ye=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).state={display:null},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"add-person ".concat(this.props.disabled?"add-person--disabled":"")},n.a.createElement("div",{onClick:function(){return e.props.setSelectedBox("addChild")},className:"front ".concat(("addChild"!==this.props.selectedBox||null===this.props.selectedBox)&&" show "," ").concat("addChild"===this.props.selectedBox&&" hide ")},n.a.createElement("section",null),n.a.createElement("section",{className:"add-person__plus"},"+"),n.a.createElement("section",null,"Child")),n.a.createElement("div",{className:"back ".concat("addChild"===this.props.selectedBox&&" show "," ").concat("addChild"!==this.props.selectedBox&&" hide ")},n.a.createElement("div",null,n.a.createElement("span",{className:"add-person__close",onClick:function(){return e.props.setSelectedBox(null)}},"x")),this.props.children))}}]),t}(r.Component),Ee=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).state={display:null},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"person-box"},n.a.createElement("div",{onClick:function(){return e.props.setSelectedBox((e.props.person||{})._id)},className:"front ".concat((this.props.selectedBox!==(this.props.person||{})._id||null===this.props.selectedBox)&&" show "," ").concat(this.props.selectedBox===(this.props.person||{})._id&&" hide ")},n.a.createElement("section",null),n.a.createElement("section",{className:"person-box__plus"},((this.props.person||{}).name||"").substring(0,1)),n.a.createElement("section",null,(this.props.person||{}).name||"")),n.a.createElement("div",{className:"back ".concat(this.props.selectedBox===(this.props.person||{})._id&&" show "," ").concat(this.props.selectedBox!==(this.props.person||{})._id&&" hide ")},n.a.createElement("div",null,n.a.createElement("span",{className:"person-box__close",onClick:function(){return e.props.setSelectedBox(null)}},"x")),this.props.children))}}]),t}(r.Component),_e=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={errorMessage:null,visible:!1,personType:null,person_id:null,selectedBox:null},a.handleSubmit=function(e){e.pin>10&&a.setState({errorMessage:"Pin max of 10 chars",visible:!0});var t=Object(f.a)({},e,{person_type:a.state.personType,family_id:a.props.familyData._id});a.props.registerPerson(t,function(e){a.setState({visible:e})})},a.handlePersonLogin=function(e){var t=Object(f.a)({},e,{person_type:a.state.personType,person_id:a.state.person_id});a.props.loginPerson(t,function(e){a.setState({visible:e})},function(){a.props.history.push("/dashboard-".concat("parent"===a.state.personType?"parent/".concat(a.state.person_id):"child/".concat(a.state.person_id)))})},a.renderAlert=function(e){return a.state.errorMessage?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage):(a.props.family||{}).apiError||(a.props.user||{}).apiError?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},"Wrong Pin. Try again later."):void 0},a.onDismissAlert=function(){a.setState({visible:!1})},a._determineToDisableChild=function(){return!((a.props.familyData||{}).parents||[]).length},a._setPersonType=function(e){a.setState({personType:e})},a._setPersonId=function(e){a.setState({person_id:e})},a._setSelectedBox=function(e){a.props.resetForm(),a.setState({selectedBox:e,errorMessage:null})},a._renderPersonBox=function(e){return a.props.familyData[e].map(function(t){return n.a.createElement(Ee,{person:t,key:t._id,selectedBox:a.state.selectedBox,setSelectedBox:a._setSelectedBox},a.props.user&&a.renderAlert("danger"),n.a.createElement(Q.a,{className:"which-user-form",onSubmit:a.props.handleSubmit(a.handlePersonLogin)},n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Pin"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"pin",component:"input",type:"text",placeholder:"Unique pin",required:!0,autoFocus:!0,maxLen:10}))),n.a.createElement("button",{className:"btn btn-success mt5",type:"submit",onClick:function(){a._setPersonType("parents"===e?"parent":"child"),a._setPersonId(t._id)}},"Login")))})},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){$("whichUser",this.props.history.goBack)}},{key:"componentDidMount",value:function(){this.props.familyData&&this.props.user.userData||this.props.getFamilyData(),this.props.resetSelectedChild(),this.props.resetUser()}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit;return n.a.createElement("div",{className:"which-user"},n.a.createElement("h1",{className:"page-title mt40"},"Welcome ",(this.props.familyData||{}).family_nickname,"!"),n.a.createElement("h2",{className:"page-subtitle "},"Who are you?"),this.props.fetching&&n.a.createElement(P.a,{type:"Grid",color:"#2e40dc",height:20,width:20}),this.props.family&&this.renderAlert("danger"),n.a.createElement("section",{className:"which-user-container mt40"},n.a.createElement("article",{className:"parent-side"},n.a.createElement(fe,{selectedBox:this.state.selectedBox,setSelectedBox:this._setSelectedBox},n.a.createElement(Q.a,{className:"which-user-form",onSubmit:t(this.handleSubmit)},n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Name"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"name",component:"input",type:"text",placeholder:"Parent Name",required:!0}))),n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Pin"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"pin",component:"input",type:"text",placeholder:"Unique pin",required:!0}))),n.a.createElement("button",{className:"btn btn-success mt5",type:"submit",onClick:function(){return e._setPersonType("parent")}},"Add"))),n.a.createElement("div",{className:"parent-list mt20"},((this.props.familyData||{}).parents||[]).length>0&&this._renderPersonBox("parents"))),n.a.createElement("article",{className:"children-side"},n.a.createElement(ye,{disabled:this._determineToDisableChild(),selectedBox:this.state.selectedBox,setSelectedBox:this._setSelectedBox},n.a.createElement(Q.a,{className:"which-user-form",onSubmit:t(this.handleSubmit)},n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Name"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"name",component:"input",type:"text",placeholder:"Child Name",required:!0}))),n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label"},"Pin"),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"pin",component:"input",type:"text",placeholder:"Unique pin",required:!0}))),n.a.createElement("button",{className:"btn btn-success mt5",type:"submit",onClick:function(){return e._setPersonType("child")},disabled:this._determineToDisableChild()},"Add"))),n.a.createElement("div",{className:"parent-list mt20"},((this.props.familyData||{}).parents||[]).length>0&&this._renderPersonBox("children"),((this.props.familyData||{}).parents||[]).length>0&&0===((this.props.familyData||{}).children||[]).length&&n.a.createElement("p",{className:"parent-list__no-child"},"No Children. Please Add a child above before Logging into a parent dashboard.")))))}}]),t}(r.Component),ge=Object(p.b)(function(e){return{familyData:e.family.familyData,fetching:e.family.fetching,whichUserForm:e.form.which_user,user:e.user}},function(e){return{registerPerson:function(t,a){e({type:"REGISTER_PERSON"}),ce.Family.registerPerson(t).then(function(t){e({type:"REGISTER_PERSON_DONE",payload:t}),e({type:"SET_FAMILY_DATA"}),ce.Family.getFam().then(function(t){e({type:"SET_FAMILY_DATA_DONE",payload:t})}).catch(function(t){e({type:"SET_FAMILY_DATA_DONE",error:t})}),e(Object(he.a)("which_user"))}).catch(function(t){e({type:"REGISTER_PERSON_DONE",error:t}),a(!0)})},getFamilyData:function(){e({type:"SET_FAMILY_DATA"}),ce.Family.getFam().then(function(t){e({type:"SET_FAMILY_DATA_DONE",payload:t})}).catch(function(t){e({type:"SET_FAMILY_DATA_DONE",error:t})})},loginPerson:function(t,a,r){e({type:"LOGIN_PERSON"}),ce.Family.loginPerson(t).then(function(t){t.parent&&ce.agent.setSession("parent_jwt",t.token),t.child&&ce.agent.setSession("child_jwt",t.token),e({type:"LOGIN_PERSON_DONE",payload:t}),r()}).catch(function(t){e({type:"LOGIN_PERSON_DONE",error:t}),a(!0)})},resetForm:function(){e(Object(he.a)("which_user"))},resetUser:function(){e({type:"RESET_USER"})},resetSelectedChild:function(){e({type:"SET_SELECTED_CHILD",child:null})}}})(Object(te.a)({form:"which_user"})(_e)),be=a(142),we=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={collapse:!1,visible:!1,errorMessage:null},a.onDismissAlert=function(){a.setState({visible:!1,errorMessage:null})},a._handleChildSelect=function(e){var t=a.findChild(e.target.value);a.props.setSelectedChild(t)},a.findChild=function(e){return a.props.family.familyData.children.filter(function(t){if(t._id===e)return!0})[0]},a.renderAlert=function(e){if(a.state.errorMessage)return n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage)},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){if((this.props.family||{}).familyData&&!this.props.child_id)this.props.setSelectedChild(this.props.family.familyData.children[0]);else if((this.props.family||{}).familyData&&this.props.child_id){var e=this.findChild(this.props.child_id);this.props.setSelectedChild(e)}}},{key:"componentDidUpdate",value:function(e){if(this.props.child_id&&null===e.family.familyData&&null!==this.props.family.familyData){var t=this.findChild(this.props.child_id);this.props.setSelectedChild(t)}else null===e.family.familyData&&null!==this.props.family.familyData&&this.props.setSelectedChild(this.props.family.familyData.children[0])}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this,t=this.props,a=t.family,r=t.user;return n.a.createElement("section",{className:"option-control mt40 mb20"},n.a.createElement("div",{className:"option-control__top"},n.a.createElement("div",{className:"option-control__top-child"},n.a.createElement("span",null,"Child:"),this.props.child_id?n.a.createElement("select",{onChange:function(t){return e._handleChildSelect(t)}},(((a||{}).familyData||{}).children||[]).filter(function(t){return t._id===e.props.child_id}).map(function(e){return n.a.createElement("option",{value:e._id,selected:(a.selectedChild||{})._id===e._id&&!0,key:e._id},e.name)})):n.a.createElement("select",{onChange:function(t){return e._handleChildSelect(t)}},(((a||{}).familyData||{}).children||[]).map(function(e){return n.a.createElement("option",{value:e._id,selected:(a.selectedChild||{})._id===e._id&&!0,key:e._id},e.name)}))),n.a.createElement(be.a,{color:"primary",onClick:function(){return e.toggle()}},"Options")),n.a.createElement("div",{className:"option-control__dropdown"},n.a.createElement(Y.a,{isOpen:this.state.collapse},n.a.createElement("p",null,"Parent/Child Messaging coming soon..."),n.a.createElement("p",null,"parent"===r.personType&&!0===(a||{}).fetchingDeleteChild&&n.a.createElement(P.a,{type:"Grid",color:"#2e40dc",height:20,width:20}),"parent"===r.personType&&!1===(a||{}).fetchingDeleteChild&&n.a.createElement("button",{className:"btn btn-danger",onClick:function(){e.props.deleteChild((a.selectedChild||{})._id,function(){localStorage.removeItem("parent_jwt"),e.props.history.push("/which-user")},function(t){e.setState({visible:t,message:"Could not delete child. Try again later."})})}},"Delete ",(a.selectedChild||{}).name)))))}}]),t}(r.Component),ve=Object(p.b)(function(e){return{family:e.family,user:e.user}},function(e){return{setSelectedChild:function(t){e({type:"SET_SELECTED_CHILD",child:t})},deleteChild:function(t,a,r){e({type:"DELETE_CHILD"}),ce.Family.deleteChild(t).then(function(t){e({type:"DELETE_CHILD_DONE",payload:t}),e({type:"RESET_USER"}),a()}).catch(function(t){e({type:"DELETE_CHILD_DONE",error:t}),r()})}}})(Object(s.f)(we)),De=function(e){return n.a.createElement("article",{className:"widget ".concat(e.customClasses)},e.children)},Se=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={visible:!1,errorMessage:null},a.onDismissAlert=function(){a.setState({visible:!1})},a.handleSubmit=function(e){var t=!0;e.chore.length>30&&(a.setState({visible:!0,errorMessage:"Cannot be more than 30 Characters"}),t=!1,a.props.resetForm()),/[!#$%()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/.test(e.chore)&&(a.setState({visible:!0,errorMessage:"Cannot use Special Characters"}),t=!1,a.props.resetForm()),t&&a.props.addChore(e.chore,function(){a.props.resetForm()},function(e){a.setState({visible:e})})},a.renderAlert=function(e){return a.state.errorMessage?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage):a.props.family.apiError?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.props.family.apiError.response.data.message):void 0},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return n.a.createElement("div",{className:"mb20"},n.a.createElement(Q.a,{className:"add-chore-form",onSubmit:e(this.handleSubmit)},n.a.createElement("section",{className:"form__form-group"},n.a.createElement("label",{className:"form__form-group-label page-widget-title"},"Add Chore"),this.renderAlert(),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement(ee.a,{name:"chore",component:"input",type:"text",placeholder:"Dishes, Mop, Vacuum, etc..",required:!0}),n.a.createElement("button",{className:"btn btn-sm btn-success",type:"submit"},"Add")))))}}]),t}(r.Component),Oe=Object(p.b)(function(e){return{addChoreForm:e.form.addChore,family:e.family}},function(e){return{addChore:function(t,a,r){e({type:"ADD_CHORE"}),ce.Chore.addChore(t).then(function(t){e({type:"ADD_CHORE_DONE",payload:t}),a()}).catch(function(t){e({type:"ADD_CHORE_DONE",error:t}),r(!0),a()})},resetForm:function(){e(Object(he.a)("addChore"))}}})(Object(te.a)({form:"addChore"})(Se)),Ce=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={chore:"",visible:!1,errorMessage:null},a.onDismissAlert=function(){a.setState({visible:!1})},a.handleEditSubmit=function(e){e.preventDefault();var t=!0;a.state.chore.length>30&&(a.setState({visible:!0,errorMessage:"Cannot be more than 30 Characters"}),t=!1,a.setState({chore:a.props.chore})),/[!#$%()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/.test(a.state.chore)&&(a.setState({visible:!0,errorMessage:"Cannot use Special Characters"}),t=!1,a.setState({chore:a.props.chore})),t&&a.props.editChore({oldChore:a.props.chore,newChore:a.state.chore},function(e){a.setState({visible:e})})},a.handleDeleteSubmit=function(e){e.preventDefault(),a.props.deleteChore(a.props.chore,function(e){a.setState({visible:e})})},a.renderAlert=function(e){return a.state.errorMessage?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage):a.props.family.apiError?n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.props.family.apiError.response.data.message):void 0},a.changeInput=function(e){a.setState({chore:e.target.value})},a.renderEditForm=function(){return n.a.createElement("form",{className:"chore-list-item__form"},n.a.createElement("section",{className:"form__form-group"},a.renderAlert(),n.a.createElement("div",{className:"form__form-group-field"},n.a.createElement("input",{type:"text",name:"chore",value:a.state.chore,onChange:function(e){return a.changeInput(e)},required:!0,maxLength:"30",autoFocus:!0}),n.a.createElement("button",{className:"btn btn-sm btn-success",type:"submit",onClick:function(e){a.handleEditSubmit(e)}},"Edit"),n.a.createElement("button",{className:"btn btn-sm btn-danger",type:"submit",onClick:function(e){return a.handleDeleteSubmit(e)}},"X"))))},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.setState({chore:this.props.chore})}},{key:"componentDidUpdate",value:function(e){!0===e.selected&&!1===this.props.selected&&this.setState({chore:this.props.chore})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"chore-list-item",onClick:function(){return e.props.setSelected(e.props.chore)},onMouseLeave:function(){e.props.setSelected(null)}},this.props.selected?this.renderEditForm():n.a.createElement("p",{className:"chore-list-item--not-selected"},this.props.chore))}}]),t}(r.Component),Ne=Object(p.b)(function(e){return{family:e.family}},function(e){return{editChore:function(t,a){e({type:"EDIT_CHORE"}),ce.Chore.editChore(t).then(function(t){e({type:"EDIT_CHORE_DONE",payload:t})}).catch(function(t){e({type:"EDIT_CHORE_DONE",error:t}),a(!0)})},deleteChore:function(t,a){e({type:"DELETE_CHORE"}),ce.Chore.deleteChore(t).then(function(t){e({type:"DELETE_CHORE_DONE",payload:t})}).catch(function(t){e({type:"DELETE_CHORE_DONE",error:t}),a(!0)})}}})(Ce),je=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={selected:null},a._setSelected=function(e){a.setState({selected:e})},a._determineSelected=function(e){return e===a.state.selected},a.handleSubmit=function(e){},a.renderChoresList=function(){return((a.props.familyData||{}).chorelist||[]).length>0?a.props.familyData.chorelist.map(function(e,t){return n.a.createElement(Ne,{chore:e,key:e,selected:a._determineSelected(e),setSelected:a._setSelected})}).reverse():0===((a.props.familyData||{}).chorelist||[]).length?n.a.createElement("p",null,"No chores. Please add a chore above."):void 0},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"chore-list"},n.a.createElement("p",{className:"page-widget-title"},"List of Chores"),!0===this.props.fetching?n.a.createElement(P.a,{type:"Grid",color:"#2e40dc",height:20,width:20}):this.renderChoresList())}}]),t}(r.Component),Ae=Object(p.b)(function(e){return{addChoreForm:e.form.addChore,familyData:e.family.familyData,fetching:e.family.fetching}})(je),Te=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"chores"},n.a.createElement(Oe,null),n.a.createElement(Ae,null))}}]),t}(r.Component),Re=a(344),Ie=function(e,t,a){return((a[e]||[]).filter(function(e){return e.chore===t})[0]||{}).completed},ke=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).state={color:null,completed:null,rColor:null,rCompleted:null},a.handleClick=function(){a.props.editable&&a.props.editMode&&("parent"===a.props.personType?"red"===a.state.color?(a.props.editChoreInSchedule({day:a.props.day,chore:a.props.chore,nextCompletedStatus:!0}),a.setState({color:"green",completed:!0})):"green"===a.state.color?(a.props.editChoreInSchedule({day:a.props.day,chore:a.props.chore,nextCompletedStatus:null}),a.setState({color:"white",completed:null})):"white"===a.state.color&&(a.props.editChoreInSchedule({day:a.props.day,chore:a.props.chore,nextCompletedStatus:!1}),a.setState({color:"red",completed:!1})):"child"===a.props.personType&&("red"===a.state.color?(a.props.editChoreInSchedule({day:a.props.day,chore:a.props.chore,nextCompletedStatus:!0}),a.setState({color:"green",completed:!0})):"green"===a.state.color&&(a.props.editChoreInSchedule({day:a.props.day,chore:a.props.chore,nextCompletedStatus:!1}),a.setState({color:"red",completed:!1}))))},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){if(this.props.currentSchedule){var e=Ie(this.props.day,this.props.chore,this.props.currentSchedule);!0===e?this.setState({color:"green",completed:!0}):!1===e?this.setState({color:"red",completed:!1}):this.setState({color:"white",completed:null})}else this.setState({color:"white",completed:null})}},{key:"componentDidUpdate",value:function(e){var t=Ie(e.day,e.chore,e.currentSchedule),a=Ie(this.props.day,this.props.chore,this.props.currentSchedule);t!==a&&(!0===a?this.setState({color:"green",completed:!0}):!1===a?this.setState({color:"red",completed:!1}):this.setState({color:"white",completed:null}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"tile tile--".concat(this.state.color," ").concat(this.props.editMode?"tile--edit":"tile--no-edit"),onClick:function(){e.handleClick()}})}}]),t}(r.Component),Me=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={isEditable:!1,editMode:!1,schedule:null,visible:!1,errorMessage:null},a.onDismissAlert=function(){a.setState({visible:!1})},a.findChildSchedule=function(e){return(a.props.familyData||{}).schedules.filter(function(t){return t.child_id===e})[0]},a.editChoreInSchedule=function(e){var t=e.day,r=e.chore,n=e.nextCompletedStatus,o=Object(_.a)(a.state.schedule[t]);if(null!==n)if(o.length>0){var l=!1;o.forEach(function(e,t){e.chore===r&&(o[t].completed=n,l=!0)}),l||o.push({chore:r,completed:n})}else o.push({chore:r,completed:n});else o=Object(_.a)(o).filter(function(e,t){return e.chore!==r});var s=Object(f.a)({},a.state.schedule);s[t]=o,a.setState({schedule:s})},a.renderAlert=function(e){if(a.props.family.apiError)return n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.props.family.apiError.response.data.message)},a.determineTile=function(e,t){var r=a.state.schedule||{};if(r[e]&&r[e].length>0){var o=r[e].filter(function(e){return e.chore===t});return o.length>0&&!0===o[0].completed?n.a.createElement(ke,{day:e,chore:t,currentSchedule:r,editable:a.state.isEditable,editMode:a.state.editMode,editChoreInSchedule:a.editChoreInSchedule,personType:a.props.personType}):(o.length>0&&o[0].completed,n.a.createElement(ke,{day:e,chore:t,currentSchedule:r,editable:a.state.isEditable,editMode:a.state.editMode,editChoreInSchedule:a.editChoreInSchedule,personType:a.props.personType}))}return n.a.createElement(ke,{day:e,chore:t,currentSchedule:r,editable:a.state.isEditable,editMode:a.state.editMode,editChoreInSchedule:a.editChoreInSchedule,personType:a.props.personType})},a.setEditMode=function(e){a.setState({editMode:e})},a.saveSchedule=function(){a.props.saveSchedule(a.props.selectedChild._id,a.state.schedule,function(){a.setState({visible:!0})},function(){a.setEditMode(!1)})},a.renderEditButtons=function(){if(a.state.isEditable)return!1===a.state.editMode?n.a.createElement("div",{className:"chore-chart-controls"},n.a.createElement("button",{className:"btn btn-success",onClick:function(){a.setEditMode(!0)}},"Edit")):n.a.createElement("div",{className:"chore-chart-controls"},n.a.createElement("button",{className:"btn btn-primary",onClick:function(){a.saveSchedule()}},"Save"),n.a.createElement("button",{className:"btn btn-info",onClick:function(){a.setEditMode(!1),a.props.getFamilyData()}},"Cancel"))},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.selectedChild&&this.setState({schedule:this.findChildSchedule(this.props.selectedChild._id),isEditable:"parent"===this.props.personType})}},{key:"componentDidUpdate",value:function(e,t){(e.selectedChild||{})._id!==(this.props.selectedChild||{})._id&&this.setState({schedule:this.findChildSchedule(this.props.selectedChild._id),isEditable:"parent"===this.props.personType||"child"===this.props.personType}),!0===t.editMode&&!1===this.state.editMode&&this.setState({schedule:this.findChildSchedule(this.props.selectedChild._id),isEditable:"parent"===this.props.personType||"child"===this.props.personType}),e.fetching!==this.props.fetching&&this.props.selectedChild&&this.props.personType&&this.setState({schedule:this.findChildSchedule(this.props.selectedChild._id),isEditable:"parent"===this.props.personType||"child"===this.props.personType})}},{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"chore-chart"},n.a.createElement("p",{className:"page-widget-title"},"Chore Chart"),this.renderAlert(),n.a.createElement(Re.a,{responsive:!0,className:"mt20"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,"Mon"),n.a.createElement("th",null,"Tues"),n.a.createElement("th",null,"Wed"),n.a.createElement("th",null,"Thurs"),n.a.createElement("th",null,"Fri"),n.a.createElement("th",null,"Sat"),n.a.createElement("th",null,"Sun"))),n.a.createElement("tbody",null,!0===this.props.fetching?n.a.createElement(P.a,{type:"Grid",color:"#2e40dc",height:20,width:20}):null,((this.props.familyData||{}).chorelist||[]).map(function(t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,t),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("monday",t)),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("tuesday",t)),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("wednesday",t)),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("thursday",t)),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("friday",t)),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("saturday",t)),n.a.createElement("td",{className:"tile-wrapper"},e.props.selectedChild&&Object.keys(e.state.schedule||[]).length>0&&e.determineTile("sunday",t)))}))),this.renderEditButtons())}}]),t}(r.Component),Pe=Object(p.b)(function(e){return{user:e.user,family:e.family,familyData:e.family.familyData,fetching:e.family.fetching,selectedChild:e.family.selectedChild,personType:e.user.personType}},function(e){return{saveSchedule:function(t,a,r,n){e({type:"SAVE_SCHEDULE"}),ce.Schedule.saveSchedule(t,a).then(function(t){e({type:"SAVE_SCHEDULE_DONE",payload:t}),n()}).catch(function(t){e({type:"SAVE_SCHEDULE_DONE",error:t}),r(!0),n()})},getFamilyData:function(){e({type:"SET_FAMILY_DATA"}),ce.Family.getFam().then(function(t){e({type:"SET_FAMILY_DATA_DONE",payload:t})})}}})(Me),xe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={reward_name:"",reward_goal:10,showInput:!1,visible:!1,errorMessage:null},a.setShowInput=function(e){"child"!==a.props.personType&&a.setState({showInput:e})},a.displayRewardOrNoRewardMessage=function(){return""!==a.state.reward_name&&!1===a.state.showInput?n.a.createElement("p",{onClick:function(){return a.setShowInput(!0)}},a.props.reward.reward_name):""===a.state.reward_name&&!1===a.state.showInput?n.a.createElement("div",null,n.a.createElement("p",null,"There is no reward for this child. "),!a.state.showInput&&n.a.createElement("button",{onClick:function(){return a.setShowInput(!0)}},"Add Reward")):void 0},a.addReward=function(e){e.preventDefault();var t=!0,r=a.state,n=r.reward_goal,o=r.reward_name;console.log("reward goal",n),""===o&&(a.setState({visible:!0,errorMessage:"Reward cannot be empty"}),t=!1),n||(a.setState({visible:!0,errorMessage:"Reward Goal cannot be empty"}),t=!1),t&&a.props.addReward({reward_name:o,reward_goal:n},function(e){a.setState({visible:e})})},a.editReward=function(e){e.preventDefault();var t=!0,r=a.state,n=r.reward_goal,o=r.reward_name;console.log("reward goal",n),""===o&&(a.setState({visible:!0,errorMessage:"Reward cannot be empty"}),t=!1),n||(a.setState({visible:!0,errorMessage:"Reward Goal cannot be empty"}),t=!1),t&&a.props.editReward({reward_name:o,reward_goal:n},function(e){a.setState({visible:e})})},a.onDismissAlert=function(){a.setState({visible:!1})},a.renderAlert=function(e){if(a.state.errorMessage)return n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage)},a.displayRewardInput=function(){if(a.state.showInput)return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},a.renderAlert(),n.a.createElement("input",{className:"reward-name-input",type:"text",value:a.state.reward_name,onChange:function(e){return a.setState({reward_name:e.target.value})},required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Points to Reach Goal (default 10)"),n.a.createElement("input",{className:"reward-goal-input",type:"number",value:a.state.reward_goal,onChange:function(e){return a.setState({reward_goal:e.target.value})},min:"1",max:"100",required:!0})),n.a.createElement("div",{className:"buttons-wrapper"},""===a.state.reward_name?n.a.createElement("button",{onClick:function(e){return a.addReward(e)},type:"submit",className:"btn btn-sm btn-primary"},"Save"):n.a.createElement("button",{onClick:function(e){return a.editReward(e)},type:"submit",className:"btn btn-sm btn-primary"},"Save"),n.a.createElement("button",{type:"button",onClick:function(e){a.setShowInput(!1)},className:"btn btn-sm btn-secondary-no-outline"},"Cancel")))},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){(this.props.reward||{}).reward_name&&""!==(this.props.reward||{}).reward_name&&this.setState({reward_name:(this.props.reward||{}).reward_name,reward_goal:(this.props.reward||{}).reward_goal})}},{key:"componentDidUpdate",value:function(e){Object.keys(e.reward).length!==Object.keys(this.props.reward).length&&this.setState({reward_name:(this.props.reward||{}).reward_name,reward_goal:(this.props.reward||{}).reward_goal})}},{key:"render",value:function(){return n.a.createElement("div",{className:"display-reward"},this.displayRewardOrNoRewardMessage(),"child"!==this.props.personType&&this.displayRewardInput())}}]),t}(r.Component),Fe=a(345),Le=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={val:null,visible:!1,errorMessage:null},a.setVal=function(e){a.setState({val:e})},a.onDismissAlert=function(){a.setState({visible:!1})},a.renderAlert=function(e){if(a.state.errorMessage)return n.a.createElement(ae.a,{color:"danger",isOpen:a.state.visible,toggle:a.onDismissAlert},a.state.errorMessage)},a.setGoal=function(e){var t=!0;a.state.val>100&&(a.setState({visible:!0,errorMessage:"Value cannot be more than 100"}),t=!1),a.state.val<1&&(a.setState({visible:!0,errorMessage:"Value cannot be less than 1"}),t=!1),t&&a.props.addSubtractGoal(e,a.state.val,function(e){a.setState({visible:!0})})},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("section",{className:"reward-goal"},n.a.createElement("p",{className:"page-widget-title"},"Progress of Reward"),n.a.createElement("div",{className:"reward-goal__progress-wrapper"},n.a.createElement("div",null,this.props.reward.reward_currently," of"," ",this.props.reward.reward_goal),n.a.createElement(Fe.a,{className:"".concat(100===this.props.reward.reward_status?"progress-complete":""),value:this.props.reward.reward_status.toFixed(2)})),"child"!==this.props.personType&&n.a.createElement("div",{className:"reward-goal__controls"},this.renderAlert(),n.a.createElement("div",{onClick:function(){return e.setGoal("subtract")},className:"reward-goal__controls-sub btn btn-sm btn-danger"},"Sub"),n.a.createElement("div",{className:"reward-goal__controls-input"},n.a.createElement("input",{type:"number",value:this.state.val,onChange:function(t){return e.setState({val:t.target.value})},placeholder:"Number to Add/Subtract"})),n.a.createElement("div",{onClick:function(){return e.setGoal("add")},className:"reward-goal__controls-add btn btn-sm btn-success"},"Add")))}}]),t}(r.Component),Be=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).getRewardForSelectedChild=function(){var e=a.props.family;if(e.familyData&&e.selectedChild){var t=e.familyData.rewards.filter(function(t){return t.child_id===e.selectedChild._id})[0];return console.log("reward",t),t}},a.addReward=function(e,t){a.props.addReward(a.props.family.selectedChild._id,e,t)},a.editReward=function(e,t){a.props.editReward(a.props.family.selectedChild._id,e,t)},a.addSubtractGoal=function(e,t,r){a.props.addSubtract(a.props.family.selectedChild._id,e,Number(t),r)},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.getRewardForSelectedChild();return n.a.createElement("div",{className:"reward"},n.a.createElement("p",{className:"page-widget-title"},"Reward"),this.props.fetchingReward||this.props.fetching?n.a.createElement(P.a,{type:"Grid",color:"#2e40dc",height:20,width:20}):e?n.a.createElement("div",null,n.a.createElement(xe,{reward:e||{},addReward:this.addReward,editReward:this.editReward,personType:this.props.personType,apiError:this.props.family.apiError}),n.a.createElement("hr",null),e.reward_name?n.a.createElement(Le,{reward:e||{},addSubtractGoal:this.addSubtractGoal,personType:this.props.personType,apiError:this.props.family.apiError}):null):n.a.createElement("div",null,n.a.createElement(xe,{reward:e||{},addReward:this.addReward,editReward:this.editReward,personType:this.props.personType,apiError:this.props.family.apiError})))}}]),t}(r.Component),Ge=Object(p.b)(function(e){return{family:e.family,fetching:e.family.fetching,fetchingReward:e.family.fetchingReward,personType:e.user.personType}},function(e){return{addReward:function(t,a,r){e({type:"ADD_REWARD"}),ce.Reward.addReward(t,a).then(function(t){e({type:"ADD_REWARD_DONE",payload:t})}).catch(function(t){e({type:"ADD_REWARD_DONE",error:t}),r(!0)})},editReward:function(t,a,r){e({type:"EDIT_REWARD"}),ce.Reward.editReward(t,a).then(function(t){e({type:"EDIT_REWARD_DONE",payload:t})}).catch(function(t){e({type:"EDIT_REWARD_DONE",error:t}),r(!0)})},addSubtract:function(t,a,r,n){e({type:"ADD_SUBTRACT_TO_REWARD_GOAL"}),ce.Reward.addSubtractToGoal(t,a,r).then(function(t){e({type:"ADD_SUBTRACT_TO_REWARD_GOAL_DONE",payload:t})}).catch(function(t){e({type:"ADD_SUBTRACT_TO_REWARD_GOAL_DONE",error:t}),n(!0)})}}})(Be),Ue=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){$("parent",this.props.history.goBack)}},{key:"componentDidMount",value:function(){this.props.family.familyData&&0===(this.props.family.familyData||{}).children.length&&(localStorage.removeItem("parent_jwt"),this.props.history.goBack()),(this.props.family||{}).familyData||(this.props.getFamilyData(),this.props.getPersonData("parent",this.props.match.params.id))}},{key:"render",value:function(){return n.a.createElement("section",{className:"dashboard-parent"},n.a.createElement(ve,null),n.a.createElement("div",null,((this.props.user||{}).userData||{}).name?"".concat(this.props.user.userData.name,"'s Dashboard"):null)," ",n.a.createElement("div",{className:"row"},n.a.createElement(De,{customClasses:"col-md-5 "},n.a.createElement(Te,null)),n.a.createElement(De,{customClasses:"col-md-5 offset-md-2"},n.a.createElement(Ge,null))),n.a.createElement("div",{className:"row mt40 mb40"},n.a.createElement(De,{customClasses:"col-md-12 "},this.props.family.familyData&&n.a.createElement(Pe,null))))}}]),t}(r.Component),He=Object(p.b)(function(e){return{family:e.family,user:e.user}},function(e){return{getFamilyData:function(){e({type:"SET_FAMILY_DATA"}),ce.Family.getFam().then(function(t){e({type:"SET_FAMILY_DATA_DONE",payload:t})}).catch(function(t){e({type:"SET_FAMILY_DATA_DONE",error:t})})},getPersonData:function(t,a){e({type:"SET_PERSON_DATA"}),ce.User.getPersonData(t,a).then(function(t){e({type:"SET_PERSON_DATA_DONE",payload:t})}).catch(function(t){e({type:"SET_PERSON_DATA_DONE",error:t})})}}})(Ue),We=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){$("child",this.props.history.goBack)}},{key:"componentDidMount",value:function(){(this.props.family||{}).familyData||(this.props.getFamilyData(),this.props.getPersonData("child",this.props.match.params.id))}},{key:"render",value:function(){return n.a.createElement("section",{className:"dashboard-parent"},n.a.createElement(ve,{child_id:this.props.match.params.id}),n.a.createElement("div",null,((this.props.user||{}).userData||{}).name?"".concat(this.props.user.userData.name,"'s Dashboard"):null),n.a.createElement("div",{className:"row mb40"},n.a.createElement(De,{customClasses:"col-md-5"},n.a.createElement(Ge,null))),n.a.createElement("div",{className:"row mb40"},n.a.createElement(De,{customClasses:"col-md-12 "},n.a.createElement(Pe,null))))}}]),t}(r.Component),Ye=Object(p.b)(function(e){return{family:e.family,user:e.user}},function(e){return{getFamilyData:function(){e({type:"SET_FAMILY_DATA"}),ce.Family.getFam().then(function(t){e({type:"SET_FAMILY_DATA_DONE",payload:t})}).catch(function(t){e({type:"SET_FAMILY_DATA_DONE",error:t})})},getPersonData:function(t,a){e({type:"SET_PERSON_DATA"}),ce.User.getPersonData(t,a).then(function(t){e({type:"SET_PERSON_DATA_DONE",payload:t})}).catch(function(t){e({type:"SET_PERSON_DATA_DONE",error:t})})}}})(We),qe=function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return n.a.createElement(s.c,null,n.a.createElement(s.a,{exact:!0,path:"/",component:K}),n.a.createElement(s.a,{exact:!0,path:"/family-register",component:ue}),n.a.createElement(s.a,{exact:!0,path:"/family-login",component:me}),n.a.createElement(s.a,{exact:!0,path:"/which-user",component:ge}),n.a.createElement(s.a,{exact:!0,path:"/dashboard-parent/:id",component:He}),n.a.createElement(s.a,{exact:!0,path:"/dashboard-child/:id",component:Ye}))}}]),t}(r.Component),Ve=(a(329),function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(R.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).state={loading:!0,loaded:!1},a._checkJWT=function(){a.props.family.isFamAuth||localStorage.getItem("family_jwt")&&(a.props.setIsFamAuth(!0),localStorage.getItem("parent_jwt")&&a.props.setIsParentAuth(!0),localStorage.getItem("child_jwt")&&a.props.setIsChildAuth(!0))},a}return Object(k.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this._checkJWT()}},{key:"componentDidUpdate",value:function(e){this.props.family!==e.family&&this._checkJWT()}},{key:"render",value:function(){this.state.loaded;return n.a.createElement("div",{className:"App"},n.a.createElement(J,null),n.a.createElement("div",{className:"".concat("/"===this.props.location.pathname?"container-full":"container")},n.a.createElement(qe,{family:this.props.family})))}}]),t}(r.Component)),ze=Object(p.b)(function(e){return{user:e.user,family:e.family}},function(e){return{setIsFamAuth:function(t){e({type:"SET_IS_FAM_AUTH",auth:t})},setIsParentAuth:function(t){e({type:"SET_IS_PARENT_AUTH",auth:t})},setIsChildAuth:function(t){e({type:"SET_IS_CHILD_AUTH",auth:t})}}})(Object(s.f)(Ve));a.d(t,"store",function(){return $e});var Je=[u.a],$e=Object(m.d)(j,m.a.apply(void 0,Je.concat([Object(i.createLogger)()])));l.a.render(n.a.createElement(p.a,{store:$e},n.a.createElement(s.b,{history:d()()},n.a.createElement(ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[173,1,2]]]);
//# sourceMappingURL=main.6c5a3907.chunk.js.map