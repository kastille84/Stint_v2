{"version":3,"sources":["api/family.js","api/user.js","api/chore.js","api/schedule.js","api/reward.js","api/agent.js","serviceWorker.js","reducers/user.js","constants/index.js","util/reducerUtils.js","reducers/family.js","reducers/index.js","components/Navigation/index.js","util/utils.js","views/Home/index.js","api/index.js","views/FamilyRegister/index.js","views/FamilyLogin/index.js","views/WhichUser/components/AddParent.js","views/WhichUser/components/AddChild.js","views/WhichUser/components/PersonBox.js","views/WhichUser/index.js","components/Options/index.js","components/Widget/index.js","components/Chores/components/AddChore.js","components/Chores/components/ChoreListItem.js","components/Chores/components/ChoreList.js","components/Chores/index.js","components/ChoreChart/components/Tile.js","components/ChoreChart/index.js","components/Reward/components/DisplayReward.js","components/Reward/components/RewardGoal.js","components/Reward/index.js","views/DashboardParent/index.js","views/DashboardChild/index.js","Router.js","App.js","index.js"],"names":["global","_agent__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","__webpack_exports__","registerFam","data","Promise","resolve","reject","body","family_nickname","family_email","family_password","agent","axios","post","then","res","catch","err","registerPerson","loginFam","loginPerson","pin","person_type","person_id","getFam","get","deleteChild","child_id","delete","concat","getPersonData","type","id","addChore","chore","editChore","put","oldChore","newChore","deleteChore","saveSchedule","schedule","addReward","reward","Object","C_Users_Edwin_Documents_CODE_stint_v2_client_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","editReward","addSubtractToGoal","val","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","defaults","baseURL","getSession","security_token","window","localStorage","getItem","headers","common","setSession","jwt_name","setItem","clearSession","removeItem","Boolean","location","hostname","match","initialState","personType","userData","fetching","apiError","user","state","arguments","length","undefined","action","objectSpread","payload","keys","includes","parent","child","error","reducerUtils","family","console","log","familyData","parents","push","children","chorelist","toConsumableArray","schedules","filteredChorelist","filter","c","schedulesArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","value","forEach","choreObj","idx","_iterator","Symbol","iterator","next","done","return","newChoreList","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop2","splice","_iterator2","filtered","s","newSchedule","filteredRewards","rewards","r","isFamAuth","isParentAuth","isChildAuth","selectedChild","fetchingReward","fetchingDeleteChild","auth","isChildAth","combineReducers","userReducer","familyReducer","form","formReducer","Navigation","isOpen","logoutFamily","_this","props","history","logoutParent","logoutChild","_showFamMenu","react_default","a","createElement","DropdownToggle","nav","caret","key","DropdownMenu","right","DropdownItem","NavItem","NavLink","href","onClick","_showParentMenu","_showChildMenu","this","setState","_this2","Navbar","light","expand","NavbarBrand","NavbarToggler","toggle","Collapse","navbar","Nav","className","UncontrolledDropdown","inNavbar","Component","withRouter","protectRoutes","cbGoBack","family_jwt","parent_jwt","child_jwt","haveJWTNotProtected","cbPush","Home","react_router_dom","to","api","Family","User","Chore","Schedule","Reward","UnconnectedFamilyRegister","_Component","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","showPass","visible","errorMessage","onDismissAlert","toggleShowPass","handleSubmit","values","test","registerFamily","url","visibleVal","renderAlert","Alert","color","inherits","createClass","data-test","Form","onSubmit","Field","name","component","placeholder","required","connect","registerForm","register","dispatch","cbVisible","token","reduxForm","FamilyLogin","onShowAlert","loginFamily","loginForm","login","AddParent","display","setSelectedBox","selectedBox","AddChild","disabled","PersonBox","person","_id","substring","WhichUser","family_id","handlePersonLogin","_determineToDisableChild","_setPersonType","_setPersonId","_setSelectedBox","box","resetForm","_renderPersonBox","map","p","components_PersonBox","autoFocus","maxLen","goBack","getFamilyData","resetSelectedChild","resetUser","react_loader_spinner_default","height","width","components_AddParent","components_AddChild","whichUserForm","which_user","reset","Options","collapse","_handleChildSelect","e","findChild","target","setSelectedChild","foundChild","prevProps","_this$props","onChange","selected","Button","message","Widget","customClasses","AddChore","valPass","response","addChoreForm","cbReset","ChoreListItem","handleEditSubmit","preventDefault","handleDeleteSubmit","changeInput","renderEditForm","maxLength","setSelected","onMouseLeave","ChoreList","_setSelected","_determineSelected","renderChoresList","components_ChoreListItem","reverse","components_AddChore","components_ChoreList","findCompletedStatus","day","currentSchedule","completed","Tile","rColor","rCompleted","handleClick","editable","editMode","editChoreInSchedule","nextCompletedStatus","prevCompleted","ChoreChart","isEditable","findChildSchedule","_ref","copyOfDayArr","found","determineTile","components_Tile","setEditMode","renderEditButtons","prevState","Table","responsive","cbEditMode","DisplayReward","reward_name","reward_goal","showInput","setShowInput","bool","displayRewardOrNoRewardMessage","passed","_this$state","_this$state2","displayRewardInput","min","max","RewardGoal","setVal","num","setGoal","addSubtractGoal","reward_currently","Progress","reward_status","toFixed","getRewardForSelectedChild","addSubtract","Number","components_DisplayReward","components_RewardGoal","DashboardParent","params","components_Options","components_Widget","Chores","components_Reward","components_ChoreChart","DashboardChild","Router","react_router","exact","path","FamilyRegister","App","loading","loaded","_checkJWT","setIsFamAuth","setIsParentAuth","setIsChildAuth","components_Navigation","pathname","src_Router","d","store","middlewares","thunk","createStore","rootReducer","applyMiddleware","createLogger","ReactDOM","render","react_redux_es","createHistory","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6c5a3907.chunk.js","sourcesContent":["import agent from \"./agent\";\r\n\r\nexport default {\r\n  registerFam: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      let body = {\r\n        family_nickname: data.family_nickname,\r\n        family_email: data.family_email,\r\n        family_password: data.family_password\r\n      };\r\n      agent.axios\r\n        .post(\"/register-family\", body)\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  registerPerson: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .post(\"/register-person\", data)\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  loginFam: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      let body = {\r\n        family_email: data.family_email,\r\n        family_password: data.family_password\r\n      };\r\n      agent.axios\r\n        .post(\"/login-family\", body)\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  loginPerson: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      let body = {\r\n        pin: data.pin,\r\n        person_type: data.person_type,\r\n        person_id: data.person_id\r\n      };\r\n      agent.axios\r\n        .post(\"/login-person\", body)\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  getFam: () => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .get(\"/family-data\")\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  deleteChild: child_id => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .delete(`/delete-child/${child_id}`)\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n};\r\n","import agent from \"./agent\";\r\n\r\nexport default {\r\n  getPersonData: (type, id) => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .post(`/${type}-data`, { id: id })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n};\r\n","import agent from \"./agent\";\r\n\r\nexport default {\r\n  //CHORES\r\n  addChore: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .post(\"/add-chore\", { chore: data })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  editChore: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .put(\"/edit-chore\", {\r\n          oldChore: data.oldChore,\r\n          newChore: data.newChore\r\n        })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  deleteChore: data => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .delete(`/delete-chore/${data}`)\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n};\r\n","import agent from \"./agent\";\r\n\r\nexport default {\r\n  saveSchedule: (child_id, schedule) => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .put(\"/save-schedule\", { child_id, schedule })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n};\r\n","import agent from \"./agent\";\r\n\r\nexport default {\r\n  addReward: (child_id, reward) => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .put(\"/add-reward\", { child_id, ...reward })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  editReward: (child_id, reward) => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .put(\"/edit-reward\", { child_id, ...reward })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n  addSubtractToGoal: (child_id, type, val) => {\r\n    return new global.Promise((resolve, reject) => {\r\n      agent.axios\r\n        .put(\"/add-subtract-goal\", { child_id, type, val })\r\n        .then(res => {\r\n          return resolve(res.data);\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n  axios.defaults.baseURL = \"https://stint-chores.herokuapp.com/api\";\r\n} else {\r\n  axios.defaults.baseURL = \"http://localhost:5000/api\";\r\n}\r\n\r\nconst setSession = (jwt_name, security_token) => {\r\n  window.localStorage.setItem(jwt_name, security_token);\r\n  if (jwt_name === \"family_jwt\") {\r\n    axios.defaults.headers.common[\"Authorization\"] = `${security_token}`;\r\n  }\r\n};\r\n\r\nconst getSession = () => {\r\n  let security_token = window.localStorage.getItem(\"family_jwt\");\r\n  axios.defaults.headers.common[\"Authorization\"] = `${security_token}`;\r\n  return security_token;\r\n};\r\n\r\nconst clearSession = jwt_name => {\r\n  window.localStorage.removeItem(jwt_name);\r\n  axios.defaults.headers.common[\"Authorization\"] = \"\";\r\n};\r\n\r\ngetSession();\r\n\r\nexport default {\r\n  axios,\r\n  setSession,\r\n  getSession,\r\n  clearSession\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\r\n  LOGIN_PERSON,\r\n  LOGIN_PERSON_DONE,\r\n  SET_PERSON_DATA,\r\n  SET_PERSON_DATA_DONE,\r\n  RESET_USER\r\n} from \"../constants\";\r\n\r\nconst initialState = {\r\n  personType: null,\r\n  userData: null,\r\n  fetching: false,\r\n  apiError: null\r\n};\r\n\r\nconst user = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_PERSON:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case LOGIN_PERSON_DONE:\r\n      return {\r\n        ...state,\r\n        fetching: false,\r\n        personType: action.payload\r\n          ? Object.keys(action.payload).includes(\"parent\")\r\n            ? \"parent\"\r\n            : \"child\"\r\n          : null,\r\n        userData: action.payload\r\n          ? Object.keys(action.payload).includes(\"parent\")\r\n            ? action.payload.parent\r\n            : action.payload.child\r\n          : null,\r\n        apiError: action.error ? action.error : null\r\n      };\r\n    case SET_PERSON_DATA:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case SET_PERSON_DATA_DONE:\r\n      return {\r\n        ...state,\r\n        fetching: false,\r\n        personType: action.payload\r\n          ? Object.keys(action.payload).includes(\"parent\")\r\n            ? \"parent\"\r\n            : \"child\"\r\n          : null,\r\n        userData: action.payload\r\n          ? Object.keys(action.payload).includes(\"parent\")\r\n            ? action.payload.parent\r\n            : action.payload.child\r\n          : null,\r\n        apiError: action.error ? action.error : null\r\n      };\r\n    case RESET_USER:\r\n      return { ...initialState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default user;\r\n","\r\n//User\r\nexport const REGISTER_FAMILY = \"REGISTER_FAMILY\";\r\nexport const REGISTER_FAMILY_DONE = \"REGISTER_FAMILY_DONE\";\r\nexport const REGISTER_PERSON = \"REGISTER_PERSON\";\r\nexport const REGISTER_PERSON_DONE = \"REGISTER_PERSON_DONE\";\r\n\r\nexport const LOGIN_FAMILY = \"LOGIN_FAMILY\";\r\nexport const LOGIN_FAMILY_DONE = \"LOGIN_FAMILY_DONE\";\r\nexport const LOGIN_PERSON = \"LOGIN_PERSON\";\r\nexport const LOGIN_PERSON_DONE = \"LOGIN_PERSON_DONE\";\r\nexport const RESET_USER = \"RESET_USER\"\r\n\r\nexport const SET_IS_FAM_AUTH = \"SET_IS_FAM_AUTH\";\r\nexport const SET_IS_PARENT_AUTH = \"SET_IS_PARENT_AUTH\";\r\nexport const SET_IS_CHILD_AUTH = \"SET_IS_CHILD_AUTH\";\r\nexport const DELETE_CHILD = \"DELETE_CHILD\";\r\nexport const DELETE_CHILD_DONE = \"DELETE_CHILD_DONE\";\r\n\r\nexport const SET_FAMILY_DATA = \"SET_FAMILY_DATA\";\r\nexport const SET_FAMILY_DATA_DONE = \"SET_FAMILY_DATA_DONE\";\r\nexport const SET_PERSON_DATA = \"SET_PERSON_DATA\";\r\nexport const SET_PERSON_DATA_DONE = \"SET_PERSON_DATA_DONE\";\r\n\r\nexport const SET_SELECTED_CHILD = \"SET_SELECTED_CHILD\";\r\n\r\n//Chores\r\nexport const ADD_CHORE = \"ADD_CHORE\";\r\nexport const ADD_CHORE_DONE = \"ADD_CHORE_DONE\";\r\nexport const EDIT_CHORE = \"EDIT_CHORE\";\r\nexport const EDIT_CHORE_DONE = \"EDIT_CHORE_DONE\";\r\nexport const DELETE_CHORE = \"DELETE_CHORE\";\r\nexport const DELETE_CHORE_DONE = \"DELETE_CHORE_DONE\";\r\n\r\n//Schedule\r\nexport const SAVE_SCHEDULE = \"SAVE_SCHEDULE\";\r\nexport const SAVE_SCHEDULE_DONE = \"SAVE_SCHEDULE_DONE\";\r\n\r\n//Rewards\r\nexport const ADD_REWARD = \"ADD_REWARD\";\r\nexport const ADD_REWARD_DONE = \"ADD_REWARD_DONE\";\r\nexport const EDIT_REWARD = \"EDIT_REWARD\";\r\nexport const EDIT_REWARD_DONE = \"EDIT_REWARD_DONE\";\r\nexport const ADD_SUBTRACT_TO_REWARD_GOAL = \"ADD_SUBTRACT_TO_REWARD_GOAL\";\r\nexport const ADD_SUBTRACT_TO_REWARD_GOAL_DONE = \"ADD_SUBTRACT_TO_REWARD_GOAL_DONE\";\r\n","\r\n//family reducer\r\nconst addPersonToFamilyData = (family, payload) => {\r\n  console.log('familyData', family)\r\n  console.log('person', payload)\r\n\r\n  if(payload.parent) {\r\n    family.familyData.parents.push(payload.parent)\r\n  }\r\n\r\n  if (payload.child) {\r\n    family.familyData.children.push(payload.child)\r\n    \r\n  }\r\n\r\n  return family.familyData;\r\n\r\n}\r\n\r\nconst addChoreToFamilyData = (family, payload) => {\r\n  family.familyData.chorelist=[...family.familyData.chorelist,payload.chore];\r\n  family.familyData.schedules=[...payload.schedules];\r\n  return family.familyData;\r\n}\r\nconst editChoreToFamilyData = (family, payload) => {\r\n  let filteredChorelist=family.familyData.chorelist.filter(c=> {\r\n    return (c!==payload.oldChore)? true: false;\r\n  })\r\n  //change in chorelist\r\n  family.familyData.chorelist=[...filteredChorelist, payload.newChore];\r\n  //chnage in schedule\r\n  let schedulesArr=[];\r\n  for(let schedule of family.familyData.schedules) {\r\n    //Monday\r\n    schedule['monday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['monday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n    //tuesday\r\n    schedule['tuesday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['tuesday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n    //wednesday\r\n    schedule['wednesday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['wednesday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n    //thursday\r\n    schedule['thursday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['thursday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n    //friday\r\n    schedule['friday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['friday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n    //saturday\r\n    schedule['saturday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['saturday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n    //sunday\r\n    schedule['sunday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['sunday'][idx].chore=payload.newChore;\r\n      }\r\n    })\r\n\r\n    schedulesArr.push(schedule);\r\n  }\r\n      \r\n  family.familyData.schedules=schedulesArr;\r\n      \r\n\r\n  return family.familyData;\r\n}\r\n//\r\nconst deleteChoreToFamilyData = (family, payload) => {\r\n  family.familyData.chorelist=payload.newChoreList;\r\n\r\n //chnage in schedule\r\n  let schedulesArr=[];\r\n  for(let schedule of family.familyData.schedules) {\r\n    //Monday\r\n    schedule['monday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['monday'].splice(idx, 1)\r\n      }\r\n    })\r\n    //tuesday\r\n    schedule['tuesday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['tuesday'].splice(idx, 1)\r\n      }\r\n    })\r\n    //wednesday\r\n    schedule['wednesday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['wednesday'].splice(idx, 1)\r\n      }\r\n    })\r\n    //thursday\r\n    schedule['thursday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['thursday'].splice(idx, 1)\r\n      }\r\n    })\r\n    //friday\r\n    schedule['friday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['friday'].splice(idx, 1)\r\n      }\r\n    })\r\n    //saturday\r\n    schedule['saturday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['saturday'].splice(idx, 1)\r\n      }\r\n    })\r\n    //sunday\r\n    schedule['sunday'].forEach((choreObj,idx)=> {\r\n      if(choreObj.chore===payload.oldChore) {\r\n        schedule['sunday'].splice(idx, 1)\r\n      }\r\n    })\r\n\r\n    schedulesArr.push(schedule);\r\n  }\r\n      \r\n  family.familyData.schedules=schedulesArr;\r\n\r\n  return family.familyData;\r\n}\r\n\r\nconst updateScheduleToFamilyData = (family, payload) => {\r\n  let filtered = family.familyData.schedules.filter(s=>{\r\n    if(s.child_id===payload.newSchedule.child_id) {\r\n      return false;\r\n    }\r\n    return true\r\n  })\r\n  filtered.push(payload.newSchedule)\r\n  family.familyData.schedules=filtered;\r\n  return family.familyData;\r\n}\r\n\r\n//REWARD\r\nconst addRewardToFamilyData = (family, payload) => {\r\n  let filteredRewards = family.familyData.rewards.filter(r=>r.child_id !==payload.reward.child_id)\r\n  family.familyData.rewards=[...filteredRewards,payload.reward];\r\n  return family.familyData;\r\n}\r\nconst editRewardInFamilyData = (family, payload) => {\r\n  let filteredRewards = family.familyData.rewards.filter(r=>r.child_id !==payload.reward.child_id)\r\n  family.familyData.rewards=[...filteredRewards,payload.reward];\r\n  return family.familyData;\r\n}\r\nexport default {\r\n  addPersonToFamilyData,\r\n  addChoreToFamilyData,\r\n  editChoreToFamilyData,\r\n  deleteChoreToFamilyData,\r\n  updateScheduleToFamilyData,\r\n  addRewardToFamilyData,\r\n  editRewardInFamilyData\r\n}","import {\r\n  REGISTER_FAMILY,\r\n  REGISTER_FAMILY_DONE,\r\n  LOGIN_FAMILY,\r\n  LOGIN_FAMILY_DONE,\r\n  SET_IS_FAM_AUTH,\r\n  SET_IS_PARENT_AUTH,\r\n  SET_IS_CHILD_AUTH,\r\n  REGISTER_PERSON,\r\n  REGISTER_PERSON_DONE,\r\n  SET_FAMILY_DATA,\r\n  SET_FAMILY_DATA_DONE,\r\n  SET_SELECTED_CHILD,\r\n  ADD_CHORE,\r\n  ADD_CHORE_DONE,\r\n  EDIT_CHORE,\r\n  EDIT_CHORE_DONE,\r\n  DELETE_CHORE,\r\n  DELETE_CHORE_DONE,\r\n  SAVE_SCHEDULE,\r\n  SAVE_SCHEDULE_DONE,\r\n  ADD_REWARD,\r\n  ADD_REWARD_DONE,\r\n  EDIT_REWARD,\r\n  EDIT_REWARD_DONE,\r\n  ADD_SUBTRACT_TO_REWARD_GOAL,\r\n  ADD_SUBTRACT_TO_REWARD_GOAL_DONE,\r\n  DELETE_CHILD,\r\n  DELETE_CHILD_DONE\r\n} from \"../constants\";\r\nimport reducerUtils from \"../util/reducerUtils\";\r\n\r\nconst initialState = {\r\n  isFamAuth: false,\r\n  isParentAuth: false,\r\n  isChildAuth: false,\r\n  familyData: null,\r\n  selectedChild: null,\r\n  fetching: false,\r\n  fetchingReward: false,\r\n  fetchingDeleteChild: false,\r\n  apiError: null\r\n};\r\n\r\nconst family = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTER_FAMILY:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case REGISTER_FAMILY_DONE:\r\n      return {\r\n        ...state,\r\n        fetching: false,\r\n        familyData: action.payload ? action.payload.family : null,\r\n        apiError: action.error ? action.error : null,\r\n        isFamAuth: true\r\n      };\r\n    case REGISTER_PERSON:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case REGISTER_PERSON_DONE:\r\n      return {\r\n        ...state,\r\n        fetching: false,\r\n        familyData: action.payload\r\n          ? reducerUtils.addPersonToFamilyData(\r\n              { familyData: state.familyData },\r\n              action.payload\r\n            )\r\n          : null,\r\n        apiError: action.error ? action.error : null\r\n      };\r\n    case LOGIN_FAMILY:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case LOGIN_FAMILY_DONE:\r\n      return {\r\n        ...state,\r\n        fetching: false,\r\n        familyData: action.payload ? action.payload.family : null,\r\n        apiError: action.error ? action.error : null,\r\n        isFamAuth: true\r\n      };\r\n    case SET_FAMILY_DATA:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case SET_FAMILY_DATA_DONE:\r\n      return {\r\n        ...state,\r\n        fetching: false,\r\n        familyData: action.payload ? { ...action.payload.family } : null,\r\n        apiError: action.error ? action.error : null\r\n      };\r\n    case SET_IS_FAM_AUTH:\r\n      return {\r\n        ...state,\r\n        isFamAuth: action.auth\r\n      };\r\n    case SET_IS_PARENT_AUTH:\r\n      return {\r\n        ...state,\r\n        isParentAuth: action.auth\r\n      };\r\n    case SET_IS_CHILD_AUTH:\r\n      return {\r\n        ...state,\r\n        isChildAth: action.auth\r\n      };\r\n    case SET_SELECTED_CHILD:\r\n      return {\r\n        ...state,\r\n        selectedChild: action.child\r\n      };\r\n    case ADD_CHORE:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case ADD_CHORE_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.addChoreToFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetching: false\r\n      };\r\n    case EDIT_CHORE:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case EDIT_CHORE_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.editChoreToFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetching: false\r\n      };\r\n    case DELETE_CHORE:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case DELETE_CHORE_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.deleteChoreToFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetching: false\r\n      };\r\n    case SAVE_SCHEDULE:\r\n      return {\r\n        ...state,\r\n        fetching: true\r\n      };\r\n    case SAVE_SCHEDULE_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.updateScheduleToFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetching: false\r\n      };\r\n    case ADD_REWARD:\r\n      return {\r\n        ...state,\r\n        fetchingReward: true\r\n      };\r\n    case ADD_REWARD_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.addRewardToFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetchingReward: false\r\n      };\r\n    case EDIT_REWARD:\r\n      return {\r\n        ...state,\r\n        fetchingReward: true\r\n      };\r\n    case EDIT_REWARD_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.editRewardInFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetchingReward: false\r\n      };\r\n    case ADD_SUBTRACT_TO_REWARD_GOAL:\r\n      return {\r\n        ...state,\r\n        fetchingReward: true\r\n      };\r\n    case ADD_SUBTRACT_TO_REWARD_GOAL_DONE:\r\n      return {\r\n        ...state,\r\n        familyData: action.payload\r\n          ? {\r\n              ...reducerUtils.editRewardInFamilyData(\r\n                { familyData: state.familyData },\r\n                action.payload\r\n              )\r\n            }\r\n          : state.familyData,\r\n        apiError: action.error ? action.error : null,\r\n        fetchingReward: false\r\n      };\r\n    case DELETE_CHILD:\r\n      return {\r\n        ...state,\r\n        fetchingDeleteChild: true\r\n      };\r\n    case DELETE_CHILD_DONE:\r\n      return {\r\n        ...state,\r\n        fetchingDeleteChild: false,\r\n        apiError: action.error ? action.error : null\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default family;\r\n\r\nconst findSelectedChildSchedule = (\r\n  { selectedChild, familyData },\r\n  child_id = null\r\n) => {\r\n  let schedule = familyData.schedules.filter(s => {\r\n    let childId = child_id ? child_id : (selectedChild || {})._id;\r\n    if (s.child_id === childId) return true;\r\n    return false;\r\n  });\r\n  return schedule[0];\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport userReducer from \"./user\";\r\nimport familyReducer from \"./family\";\r\n\r\nexport default combineReducers({\r\n  user: userReducer,\r\n  family: familyReducer,\r\n  form: formReducer\r\n});\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from \"reactstrap\";\r\n\r\nclass Navigation extends Component {\r\n  state = {\r\n    isOpen: false\r\n  };\r\n  toggle() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n\r\n  logoutFamily = () => {\r\n    localStorage.removeItem(\"family_jwt\");\r\n    this.props.history.push(\"/family-login\");\r\n  };\r\n  logoutParent = () => {\r\n    localStorage.removeItem(\"parent_jwt\");\r\n    this.props.history.push(\"/which-user\");\r\n  };\r\n  logoutChild = () => {\r\n    localStorage.removeItem(\"child_jwt\");\r\n    this.props.history.push(\"/which-user\");\r\n  };\r\n\r\n  _showFamMenu = () => {\r\n    if (\r\n      localStorage.getItem(\"family_jwt\") &&\r\n      (!localStorage.getItem(\"parent_jwt\") &&\r\n        !localStorage.getItem(\"child_jwt\"))\r\n    ) {\r\n      return [\r\n        <DropdownToggle nav caret key={\"dd\"}>\r\n          Family\r\n        </DropdownToggle>,\r\n        <DropdownMenu right key={\"dm\"}>\r\n          <DropdownItem>\r\n            <NavItem>\r\n              <span onClick={() => this.logoutFamily()}>Logout</span>\r\n            </NavItem>\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      ];\r\n    } else if (\r\n      !localStorage.getItem(\"family_jwt\") &&\r\n      (!localStorage.getItem(\"parent_jwt\") &&\r\n        !localStorage.getItem(\"child_jwt\"))\r\n    ) {\r\n      return [\r\n        <DropdownToggle nav caret key={\"dd\"}>\r\n          Family\r\n        </DropdownToggle>,\r\n        <DropdownMenu right key={\"dm\"}>\r\n          <DropdownItem>\r\n            <NavItem>\r\n              <NavLink href=\"/family-register\">Register</NavLink>\r\n            </NavItem>\r\n          </DropdownItem>\r\n          <DropdownItem>\r\n            <NavItem>\r\n              <NavLink href=\"/family-login\">Login</NavLink>\r\n            </NavItem>\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      ];\r\n    }\r\n  };\r\n  _showParentMenu = () => {\r\n    if (localStorage.getItem(\"parent_jwt\")) {\r\n      return [\r\n        <DropdownToggle nav caret key={\"dd\"}>\r\n          Parent\r\n        </DropdownToggle>,\r\n        <DropdownMenu right key={\"dm\"}>\r\n          <DropdownItem>\r\n            <NavItem>\r\n              <span onClick={() => this.logoutParent()}>Logout</span>\r\n            </NavItem>\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      ];\r\n    }\r\n  };\r\n  _showChildMenu = () => {\r\n    if (localStorage.getItem(\"child_jwt\")) {\r\n      return [\r\n        <DropdownToggle nav caret key={\"dd\"}>\r\n          Child\r\n        </DropdownToggle>,\r\n        <DropdownMenu right key={\"dm\"}>\r\n          <DropdownItem>\r\n            <NavItem>\r\n              <span onClick={() => this.logoutChild()}>Logout</span>\r\n            </NavItem>\r\n          </DropdownItem>\r\n        </DropdownMenu>\r\n      ];\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Navbar light expand=\"md\">\r\n          <NavbarBrand href=\"/\">Stint v2</NavbarBrand>\r\n          <NavbarToggler onClick={() => this.toggle()} />\r\n          <Collapse isOpen={this.state.isOpen} navbar>\r\n            <Nav className=\"ml-auto\" navbar>\r\n              <UncontrolledDropdown nav inNavbar>\r\n                {this._showFamMenu()}\r\n                {this._showParentMenu()}\r\n                {this._showChildMenu()}\r\n              </UncontrolledDropdown>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Navigation);\r\n","\r\nexport const protectRoutes = (type, cbGoBack) => {\r\n  let family_jwt = localStorage.getItem('family_jwt');\r\n  let parent_jwt = localStorage.getItem('parent_jwt');\r\n  let child_jwt = localStorage.getItem('child_jwt');\r\n\r\n  if(type===\"whichUser\") {\r\n    if(!family_jwt) {\r\n      cbGoBack()\r\n      return;\r\n    } else if ( (family_jwt && parent_jwt) || (family_jwt && child_jwt) ) {\r\n      cbGoBack()\r\n      return;\r\n    }\r\n  }\r\n\r\n  if(type==='parent') {\r\n    if(family_jwt && !parent_jwt) {\r\n      cbGoBack();\r\n      return;\r\n    } else if (family_jwt && child_jwt) {\r\n      cbGoBack()\r\n    } else if (!family_jwt) {\r\n      cbGoBack()\r\n    }\r\n  }\r\n\r\n  if(type==='child') {\r\n    if(family_jwt && !child_jwt) {\r\n      cbGoBack();\r\n      return;\r\n    } else if (family_jwt && parent_jwt) {\r\n      cbGoBack()\r\n    } else if (!family_jwt) {\r\n      cbGoBack()\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport const haveJWTNotProtected = (cbPush) => {\r\n  let family_jwt = localStorage.getItem('family_jwt');\r\n  let parent_jwt = localStorage.getItem('parent_jwt');\r\n  let child_jwt = localStorage.getItem('child_jwt');\r\n  if (parent_jwt || child_jwt) {\r\n    localStorage.removeItem('parent_jwt');\r\n    localStorage.removeItem('child_jwt');\r\n\r\n    cbPush('/which-user')\r\n  }\r\n  if (family_jwt && !parent_jwt && !child_jwt) {\r\n    cbPush('/which-user')\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Navigation from \"../../components/Navigation\";\r\nimport { haveJWTNotProtected } from \"../../util/utils\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Home extends Component {\r\n  componentDidMount() {\r\n    haveJWTNotProtected(this.props.history.push);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main className=\"home\">\r\n        <section className=\"jumbotron jumbotron-fluid\">\r\n          <div className=\"container\">\r\n            <h1 className=\"\">Stint Chore Tracker</h1>\r\n            <p className=\"\">\r\n              Manage Your Children's Chores & Reward Them Handsomely\r\n            </p>\r\n          </div>\r\n        </section>\r\n        <h1 className=\"page-h1\">Clutter and Mess</h1>\r\n        <section className=\"home__info-strip\">\r\n          <figure className=\"home__info-img home__info-img--clutter\"></figure>\r\n          <div className=\"home__info-text\">\r\n            <h2 className=\"page-h2\">\r\n              Adults and children alike, we all make messes in our home. As\r\n              responsible adults we were taught or learned that we must clean up\r\n              after ourselves.\r\n            </h2>\r\n            <h2 className=\"page-h2\">\r\n              Children must also learn to clean up after themselves. If they\r\n              start young with minor chores then they will develop a habit of\r\n              cleaning and feel more responsible.\r\n            </h2>\r\n          </div>\r\n        </section>\r\n        <h1 className=\"page-h1\">Complete Chores, Get a Reward</h1>\r\n        <section className=\"home__info-strip\">\r\n          <div className=\"home__info-text\">\r\n            <h2 className=\"page-h2\">\r\n              With Stint, you give a child a set of chores to complete for the\r\n              week. Each child can login to their account to record each chore\r\n              they completed.\r\n            </h2>\r\n            <h2 className=\"page-h2\">\r\n              You can set a Goal for each child to reach. If the child reaches\r\n              the goal then you can give your child a Reward!\r\n            </h2>\r\n          </div>\r\n          <figure className=\"home__info-img home__info-img--clean\"></figure>\r\n        </section>\r\n        <h1 className=\"page-h1\">Play Around with Stint Right Now!</h1>\r\n        <section className=\"home__info-strip home__info-strip-credentials\">\r\n          <div className=\"home__info-text\">\r\n            <Link\r\n              to=\"/family-login\"\r\n              className=\"btn btn-success btn-credentials\"\r\n            >\r\n              Login\r\n            </Link>\r\n            <p className=\"mt20\">Using these credentials, create your own!</p>\r\n          </div>\r\n          <div className=\"home__info-text-credentials\">\r\n            <p>\r\n              <span>Family Email:</span> <span>test@test.com</span>\r\n              <span>Family Password:</span>\r\n              <span>test4400~</span>\r\n            </p>\r\n            <p>\r\n              <span>Parent Name:</span> <span>Dad</span>\r\n              <span>Parent Pin:</span>\r\n              <span>4400</span>\r\n            </p>\r\n          </div>\r\n        </section>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import agent from \"./agent\";\r\nimport Family from \"./family\";\r\nimport User from \"./user\";\r\nimport Chore from \"./chore\";\r\nimport Schedule from \"./schedule\";\r\nimport Reward from \"./reward\";\r\nexport default {\r\n  agent,\r\n  Family,\r\n  User,\r\n  Chore,\r\n  Schedule,\r\n  Reward\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Field, reduxForm, Form, SubmissionError, reset } from \"redux-form\";\r\nimport { Alert } from \"reactstrap\";\r\nimport api from \"../../api\";\r\nimport { haveJWTNotProtected } from \"../../util/utils\";\r\nimport { REGISTER_FAMILY, REGISTER_FAMILY_DONE } from \"../../constants\";\r\n\r\nconst mapStateToProps = state => ({\r\n  registerForm: state.form.register,\r\n  family: state.family\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  registerFamily: (data, cbPush, cbVisible) => {\r\n    dispatch({ type: REGISTER_FAMILY });\r\n    api.Family.registerFam(data)\r\n      .then(payload => {\r\n        dispatch({ type: REGISTER_FAMILY_DONE, payload: payload });\r\n        //localStorage.setItem('family_jwt', payload.token);\r\n        api.agent.setSession(\"family_jwt\", payload.token);\r\n        //redirect to SelectUser page\r\n        cbPush(\"/which-user\");\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: REGISTER_FAMILY_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  }\r\n});\r\n\r\nexport class UnconnectedFamilyRegister extends Component {\r\n  state = {\r\n    showPass: false,\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    haveJWTNotProtected(this.props.history.push);\r\n  }\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  toggleShowPass = () => {\r\n    this.setState({ showPass: !this.state.showPass });\r\n  };\r\n\r\n  handleSubmit = values => {\r\n    const requiredSp = /[!#$%()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~]/;\r\n    const requiredNum = /[0-9]/;\r\n    const requiredAlph = /[a-zA-Z]/;\r\n    //validate values\r\n\r\n    //password > 8 characters\r\n    if (values.family_password.length < 8) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Password should be 8 characters or more.\"\r\n      });\r\n      return;\r\n    }\r\n    //password has at least one alphabet letter\r\n    if (!requiredAlph.test(values.family_password)) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Password must contain at least one alphabet.\"\r\n      });\r\n      return;\r\n    }\r\n    //password has at least one special character\r\n    if (!requiredSp.test(values.family_password)) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: `Password must contain at least one special character except the following: & ' \"`\r\n      });\r\n      return;\r\n    }\r\n\r\n    //at this point, validation passed. Make API call\r\n    this.props.registerFamily(\r\n      values,\r\n      url => {\r\n        this.props.history.push(url);\r\n      },\r\n      visibleVal => {\r\n        this.setState({ visible: visibleVal });\r\n      }\r\n    );\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    if (this.props.family.apiError) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          Error: Please Try again later.\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleSubmit } = this.props;\r\n    return (\r\n      <div data-test=\"family-register\" className=\"family-register\">\r\n        <section className=\"form-container\">\r\n          <h2 className=\"form-title\">Family Register</h2>\r\n          <div className=\"form-wrapper register-form-wrapper\">\r\n            {this.props.family && this.renderAlert(\"danger\")}\r\n            <Form\r\n              className=\"regsiter-form\"\r\n              onSubmit={handleSubmit(this.handleSubmit)}\r\n            >\r\n              <section className=\"form__form-group\">\r\n                <label className=\"form__form-group-label\">Family Email</label>\r\n                <div className=\"form__form-group-field\">\r\n                  <Field\r\n                    name=\"family_email\"\r\n                    component=\"input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Email (can be same as primary parent's email)\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </section>\r\n              <section className=\"form__form-group\">\r\n                <label className=\"form__form-group-label\">\r\n                  Family Nickname\r\n                </label>\r\n                <div className=\"form__form-group-field\">\r\n                  <Field\r\n                    name=\"family_nickname\"\r\n                    component=\"input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Nickname of family\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </section>\r\n              <section className=\"form__form-group\">\r\n                <label className=\"form__form-group-label d-flex justify-content-between\">\r\n                  <span>Family Password</span>\r\n                  <span\r\n                    className=\"password-show\"\r\n                    onClick={() => this.toggleShowPass()}\r\n                  >\r\n                    {this.state.showPass ? \"hide\" : \"show\"}\r\n                  </span>\r\n                </label>\r\n                <div className=\"form__form-group-field\">\r\n                  <Field\r\n                    name=\"family_password\"\r\n                    component=\"input\"\r\n                    type={this.state.showPass ? \"text\" : \"password\"}\r\n                    placeholder=\"Enter password of family email\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </section>\r\n              <section className=\"form__button-toolbar\">\r\n                <Link className=\"btn btn-secondary-left\" to=\"/family-login\">\r\n                  Login\r\n                </Link>\r\n                <button className=\"btn btn-success\" type=\"submit\">\r\n                  Register\r\n                </button>\r\n              </section>\r\n            </Form>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(reduxForm({ form: \"register\" })(UnconnectedFamilyRegister));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Field, reduxForm, Form, SubmissionError, reset } from \"redux-form\";\r\nimport { Alert } from \"reactstrap\";\r\nimport api from \"../../api\";\r\nimport { haveJWTNotProtected } from \"../../util/utils\";\r\nimport { LOGIN_FAMILY, LOGIN_FAMILY_DONE } from \"../../constants\";\r\n\r\nconst mapStateToProps = state => ({\r\n  loginForm: state.form.login,\r\n  family: state.family\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  loginFamily: (data, cbPush, cbVisible) => {\r\n    dispatch({ type: LOGIN_FAMILY });\r\n    api.Family.loginFam(data)\r\n      .then(payload => {\r\n        dispatch({ type: LOGIN_FAMILY_DONE, payload: payload });\r\n        //localStorage.setItem('family_jwt', payload.token);\r\n        api.agent.setSession(\"family_jwt\", payload.token);\r\n        //redirect to SelectUser page\r\n        cbPush(\"/which-user\");\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: LOGIN_FAMILY_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  }\r\n});\r\n\r\nexport class FamilyLogin extends Component {\r\n  state = {\r\n    showPass: false,\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    haveJWTNotProtected(this.props.history.push);\r\n  }\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n  onShowAlert = () => {\r\n    this.setState({ visible: true });\r\n  };\r\n\r\n  toggleShowPass = () => {\r\n    this.setState({ showPass: !this.state.showPass });\r\n  };\r\n\r\n  handleSubmit = values => {\r\n    const requiredSp = /[!#$%()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~]/;\r\n    const requiredNum = /[0-9]/;\r\n    const requiredAlph = /[a-zA-Z]/;\r\n    //validate values\r\n\r\n    //password > 8 characters\r\n    if (values.family_password.length <= 8) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Password should be more than 8 characters.\"\r\n      });\r\n      return;\r\n    }\r\n    //password has at least one alphabet letter\r\n    if (!requiredAlph.test(values.family_password)) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Password must contain at least one alphabet.\"\r\n      });\r\n      return;\r\n    }\r\n    //password has at least one special character\r\n    if (!requiredSp.test(values.family_password)) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: `Password must contain at least one special character except the following: & ' \"`\r\n      });\r\n      return;\r\n    }\r\n\r\n    //at this point, validation passed. Make API call\r\n    this.props.loginFamily(\r\n      values,\r\n      url => {\r\n        this.props.history.push(url);\r\n      },\r\n      visibleVal => {\r\n        this.setState({ visible: visibleVal });\r\n      }\r\n    );\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    if (this.props.family.apiError) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          Error: Please Try again later.\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleSubmit } = this.props;\r\n    return (\r\n      <div data-test=\"family-login\" className=\"family-login\">\r\n        <section className=\"form-container\">\r\n          <h2 className=\"form-title\">Family Login</h2>\r\n          <div className=\"form-wrapper login-form-wrapper\">\r\n            {this.props.family && this.renderAlert(\"danger\")}\r\n            <Form\r\n              className=\"login-form\"\r\n              onSubmit={handleSubmit(this.handleSubmit)}\r\n            >\r\n              <section className=\"form__form-group\">\r\n                <label className=\"form__form-group-label\">Family Email</label>\r\n                <div className=\"form__form-group-field\">\r\n                  <Field\r\n                    name=\"family_email\"\r\n                    component=\"input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Email (can be same as primary parent's email)\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </section>\r\n              <section className=\"form__form-group\">\r\n                <label className=\"form__form-group-label d-flex justify-content-between\">\r\n                  <span>Family Password</span>\r\n                  <span\r\n                    className=\"password-show\"\r\n                    onClick={() => this.toggleShowPass()}\r\n                  >\r\n                    {this.state.showPass ? \"hide\" : \"show\"}\r\n                  </span>\r\n                </label>\r\n                <div className=\"form__form-group-field\">\r\n                  <Field\r\n                    name=\"family_password\"\r\n                    component=\"input\"\r\n                    type={this.state.showPass ? \"text\" : \"password\"}\r\n                    placeholder=\"Enter password of family email\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </section>\r\n              <section className=\"form__button-toolbar\">\r\n                <Link className=\"btn btn-secondary-left\" to=\"/family-register\">\r\n                  Register\r\n                </Link>\r\n                <button className=\"btn btn-success\">Login</button>\r\n              </section>\r\n            </Form>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(reduxForm({ form: \"login\" })(FamilyLogin));\r\n","import React, { Component } from \"react\";\r\n\r\nclass AddParent extends Component {\r\n  state = {\r\n    display: null\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={`add-person`}>\r\n        <div\r\n          onClick={() => this.props.setSelectedBox(\"addParent\")}\r\n          className={`front ${(this.props.selectedBox !== \"addParent\" ||\r\n            this.props.selectedBox === null) &&\r\n            \" show \"} ${this.props.selectedBox === \"addParent\" && \" hide \"}`}\r\n        >\r\n          <section />\r\n          <section className=\"add-person__plus\">+</section>\r\n          <section>Parent</section>\r\n        </div>\r\n        <div\r\n          className={`back ${this.props.selectedBox === \"addParent\" &&\r\n            \" show \"} ${this.props.selectedBox !== \"addParent\" && \" hide \"}`}\r\n        >\r\n          <div>\r\n            <span\r\n              className=\"add-person__close\"\r\n              onClick={() => this.props.setSelectedBox(null)}\r\n            >\r\n              x\r\n            </span>\r\n          </div>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddParent;\r\n","import React, { Component } from \"react\";\r\n\r\nclass AddChild extends Component {\r\n  state = {\r\n    display: null\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`add-person ${\r\n          this.props.disabled ? \"add-person--disabled\" : \"\"\r\n        }`}\r\n      >\r\n        <div\r\n          onClick={() => this.props.setSelectedBox(\"addChild\")}\r\n          className={`front ${(this.props.selectedBox !== \"addChild\" ||\r\n            this.props.selectedBox === null) &&\r\n            \" show \"} ${this.props.selectedBox === \"addChild\" && \" hide \"}`}\r\n        >\r\n          <section />\r\n          <section className=\"add-person__plus\">+</section>\r\n          <section>Child</section>\r\n        </div>\r\n        <div\r\n          className={`back ${this.props.selectedBox === \"addChild\" &&\r\n            \" show \"} ${this.props.selectedBox !== \"addChild\" && \" hide \"}`}\r\n        >\r\n          <div>\r\n            <span\r\n              className=\"add-person__close\"\r\n              onClick={() => this.props.setSelectedBox(null)}\r\n            >\r\n              x\r\n            </span>\r\n          </div>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddChild;\r\n","import React, { Component } from \"react\";\r\n\r\nclass PersonBox extends Component {\r\n  state = {\r\n    display: null\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={`person-box`}>\r\n        <div\r\n          onClick={() =>\r\n            this.props.setSelectedBox((this.props.person || {})._id)\r\n          }\r\n          className={`front ${(this.props.selectedBox !==\r\n            (this.props.person || {})._id ||\r\n            this.props.selectedBox === null) &&\r\n            \" show \"} ${this.props.selectedBox ===\r\n            (this.props.person || {})._id && \" hide \"}`}\r\n        >\r\n          <section />\r\n          <section className=\"person-box__plus\">\r\n            {((this.props.person || {}).name || \"\").substring(0, 1)}\r\n          </section>\r\n          <section>{(this.props.person || {}).name || \"\"}</section>\r\n        </div>\r\n        <div\r\n          className={`back ${this.props.selectedBox ===\r\n            (this.props.person || {})._id && \" show \"} ${this.props\r\n            .selectedBox !== (this.props.person || {})._id && \" hide \"}`}\r\n        >\r\n          <div>\r\n            <span\r\n              className=\"person-box__close\"\r\n              onClick={() => this.props.setSelectedBox(null)}\r\n            >\r\n              x\r\n            </span>\r\n          </div>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PersonBox;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, Form, SubmissionError, reset } from \"redux-form\";\r\nimport { Alert } from \"reactstrap\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport {\r\n  REGISTER_PERSON,\r\n  REGISTER_PERSON_DONE,\r\n  SET_FAMILY_DATA,\r\n  SET_FAMILY_DATA_DONE,\r\n  LOGIN_PERSON,\r\n  LOGIN_PERSON_DONE,\r\n  RESET_USER,\r\n  SET_SELECTED_CHILD\r\n} from \"../../constants\";\r\nimport api from \"../../api\";\r\nimport AddParent from \"./components/AddParent\";\r\nimport AddChild from \"./components/AddChild\";\r\nimport PersonBox from \"./components/PersonBox\";\r\n\r\nimport { protectRoutes } from \"../../util/utils\";\r\n\r\nconst mapStateToProps = state => ({\r\n  familyData: state.family.familyData,\r\n  fetching: state.family.fetching,\r\n  whichUserForm: state.form.which_user,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  registerPerson: (data, cbVisible) => {\r\n    dispatch({ type: REGISTER_PERSON });\r\n    api.Family.registerPerson(data)\r\n      .then(payload => {\r\n        dispatch({ type: REGISTER_PERSON_DONE, payload: payload });\r\n        //set familyData again to get latest family data\r\n        dispatch({ type: SET_FAMILY_DATA });\r\n        api.Family.getFam()\r\n          .then(payload => {\r\n            dispatch({ type: SET_FAMILY_DATA_DONE, payload: payload });\r\n          })\r\n          .catch(err => {\r\n            dispatch({ type: SET_FAMILY_DATA_DONE, error: err });\r\n          });\r\n\r\n        //clear form\r\n        dispatch(reset(\"which_user\"));\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: REGISTER_PERSON_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  },\r\n  getFamilyData: () => {\r\n    dispatch({ type: SET_FAMILY_DATA });\r\n    api.Family.getFam()\r\n      .then(payload => {\r\n        dispatch({ type: SET_FAMILY_DATA_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SET_FAMILY_DATA_DONE, error: err });\r\n      });\r\n  },\r\n  loginPerson: (data, cbVisible, cbPush) => {\r\n    dispatch({ type: LOGIN_PERSON });\r\n    api.Family.loginPerson(data)\r\n      .then(payload => {\r\n        //#set person jwt CONDITIONALLY\r\n        if (payload.parent) {\r\n          api.agent.setSession(\"parent_jwt\", payload.token);\r\n        }\r\n        if (payload.child) {\r\n          api.agent.setSession(\"child_jwt\", payload.token);\r\n        }\r\n\r\n        dispatch({ type: LOGIN_PERSON_DONE, payload: payload });\r\n        cbPush();\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: LOGIN_PERSON_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  },\r\n  resetForm: () => {\r\n    //clear form\r\n    dispatch(reset(\"which_user\"));\r\n  },\r\n  resetUser: () => {\r\n    dispatch({ type: RESET_USER });\r\n  },\r\n  resetSelectedChild: () => {\r\n    dispatch({ type: SET_SELECTED_CHILD, child: null });\r\n  }\r\n});\r\n\r\nclass WhichUser extends Component {\r\n  state = {\r\n    errorMessage: null,\r\n    visible: false,\r\n    personType: null,\r\n    person_id: null,\r\n    selectedBox: null\r\n  };\r\n\r\n  componentWillMount() {\r\n    //protect route\r\n    protectRoutes(\"whichUser\", this.props.history.goBack);\r\n  }\r\n  componentDidMount() {\r\n    if (!this.props.familyData || !this.props.user.userData) {\r\n      this.props.getFamilyData();\r\n    }\r\n    //reset selected child\r\n    this.props.resetSelectedChild();\r\n    //reset user\r\n    this.props.resetUser();\r\n  }\r\n\r\n  handleSubmit = values => {\r\n    const requiredNum = /[0-9]/;\r\n    //check maxLength\r\n    if (values.pin > 10) {\r\n      this.setState({\r\n        errorMessage: \"Pin max of 10 chars\",\r\n        visible: true\r\n      });\r\n    }\r\n    //remember to add the family_id to the data\r\n    const data = {\r\n      ...values,\r\n      person_type: this.state.personType,\r\n      family_id: this.props.familyData._id\r\n    };\r\n\r\n    this.props.registerPerson(data, visibleVal => {\r\n      this.setState({ visible: visibleVal });\r\n    });\r\n  };\r\n\r\n  handlePersonLogin = values => {\r\n    const data = {\r\n      ...values,\r\n      person_type: this.state.personType,\r\n      person_id: this.state.person_id\r\n    };\r\n\r\n    this.props.loginPerson(\r\n      data,\r\n      visibleVal => {\r\n        this.setState({ visible: visibleVal });\r\n      },\r\n      () => {\r\n        this.props.history.push(\r\n          `/dashboard-${\r\n            this.state.personType === \"parent\"\r\n              ? `parent/${this.state.person_id}`\r\n              : `child/${this.state.person_id}`\r\n          }`\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    if (\r\n      (this.props.family || {}).apiError ||\r\n      (this.props.user || {}).apiError\r\n    ) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          Wrong Pin. Try again later.\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  _determineToDisableChild = () => {\r\n    return !((this.props.familyData || {}).parents || []).length ? true : false;\r\n  };\r\n\r\n  _setPersonType = type => {\r\n    this.setState({ personType: type });\r\n  };\r\n  _setPersonId = id => {\r\n    this.setState({ person_id: id });\r\n  };\r\n  _setSelectedBox = box => {\r\n    this.props.resetForm();\r\n    this.setState({ selectedBox: box, errorMessage: null });\r\n  };\r\n\r\n  _renderPersonBox = type => {\r\n    return this.props.familyData[type].map(p => {\r\n      return (\r\n        <PersonBox\r\n          person={p}\r\n          key={p._id}\r\n          selectedBox={this.state.selectedBox}\r\n          setSelectedBox={this._setSelectedBox}\r\n        >\r\n          {this.props.user && this.renderAlert(\"danger\")}\r\n          <Form\r\n            className=\"which-user-form\"\r\n            onSubmit={this.props.handleSubmit(this.handlePersonLogin)}\r\n          >\r\n            <section className=\"form__form-group\">\r\n              <label className=\"form__form-group-label\">Pin</label>\r\n              <div className=\"form__form-group-field\">\r\n                <Field\r\n                  name=\"pin\"\r\n                  component=\"input\"\r\n                  type=\"text\"\r\n                  placeholder=\"Unique pin\"\r\n                  required\r\n                  autoFocus\r\n                  maxLen={10}\r\n                />\r\n              </div>\r\n            </section>\r\n            <button\r\n              className=\"btn btn-success mt5\"\r\n              type=\"submit\"\r\n              onClick={() => {\r\n                this._setPersonType(type === \"parents\" ? \"parent\" : \"child\");\r\n                this._setPersonId(p._id);\r\n              }}\r\n            >\r\n              Login\r\n            </button>\r\n          </Form>\r\n        </PersonBox>\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let { handleSubmit } = this.props;\r\n    return (\r\n      <div className=\"which-user\">\r\n        <h1 className=\"page-title mt40\">\r\n          Welcome {(this.props.familyData || {}).family_nickname}!\r\n        </h1>\r\n        <h2 className=\"page-subtitle \">Who are you?</h2>\r\n        {this.props.fetching && (\r\n          <Loader type=\"Grid\" color=\"#2e40dc\" height={20} width={20} />\r\n        )}\r\n        {this.props.family && this.renderAlert(\"danger\")}\r\n        <section className=\"which-user-container mt40\">\r\n          {/* PARENT */}\r\n          <article className=\"parent-side\">\r\n            <AddParent\r\n              selectedBox={this.state.selectedBox}\r\n              setSelectedBox={this._setSelectedBox}\r\n            >\r\n              <Form\r\n                className=\"which-user-form\"\r\n                onSubmit={handleSubmit(this.handleSubmit)}\r\n              >\r\n                <section className=\"form__form-group\">\r\n                  <label className=\"form__form-group-label\">Name</label>\r\n                  <div className=\"form__form-group-field\">\r\n                    <Field\r\n                      name=\"name\"\r\n                      component=\"input\"\r\n                      type=\"text\"\r\n                      placeholder=\"Parent Name\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </section>\r\n                <section className=\"form__form-group\">\r\n                  <label className=\"form__form-group-label\">Pin</label>\r\n                  <div className=\"form__form-group-field\">\r\n                    <Field\r\n                      name=\"pin\"\r\n                      component=\"input\"\r\n                      type=\"text\"\r\n                      placeholder=\"Unique pin\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </section>\r\n                <button\r\n                  className=\"btn btn-success mt5\"\r\n                  type=\"submit\"\r\n                  onClick={() => this._setPersonType(\"parent\")}\r\n                >\r\n                  Add\r\n                </button>\r\n              </Form>\r\n            </AddParent>\r\n            {/* List of Parents*/}\r\n            <div className=\"parent-list mt20\">\r\n              {((this.props.familyData || {}).parents || []).length > 0 &&\r\n                this._renderPersonBox(\"parents\")}\r\n            </div>\r\n          </article>\r\n          {/* CHILDREN */}\r\n          <article className=\"children-side\">\r\n            <AddChild\r\n              disabled={this._determineToDisableChild()}\r\n              selectedBox={this.state.selectedBox}\r\n              setSelectedBox={this._setSelectedBox}\r\n            >\r\n              <Form\r\n                className=\"which-user-form\"\r\n                onSubmit={handleSubmit(this.handleSubmit)}\r\n              >\r\n                <section className=\"form__form-group\">\r\n                  <label className=\"form__form-group-label\">Name</label>\r\n                  <div className=\"form__form-group-field\">\r\n                    <Field\r\n                      name=\"name\"\r\n                      component=\"input\"\r\n                      type=\"text\"\r\n                      placeholder=\"Child Name\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </section>\r\n                <section className=\"form__form-group\">\r\n                  <label className=\"form__form-group-label\">Pin</label>\r\n                  <div className=\"form__form-group-field\">\r\n                    <Field\r\n                      name=\"pin\"\r\n                      component=\"input\"\r\n                      type=\"text\"\r\n                      placeholder=\"Unique pin\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </section>\r\n                <button\r\n                  className=\"btn btn-success mt5\"\r\n                  type=\"submit\"\r\n                  onClick={() => this._setPersonType(\"child\")}\r\n                  disabled={this._determineToDisableChild()}\r\n                >\r\n                  Add\r\n                </button>\r\n              </Form>\r\n            </AddChild>\r\n            {/* List of Children*/}\r\n            <div className=\"parent-list mt20\">\r\n              {((this.props.familyData || {}).parents || []).length > 0 &&\r\n                this._renderPersonBox(\"children\")\r\n              }\r\n              {\r\n                ((this.props.familyData || {}).parents ||[]).length > 0  &&\r\n                ((this.props.familyData || {}).children ||[]).length === 0  &&\r\n                <p className=\"parent-list__no-child\">No Children. Please Add a child above before Logging into a parent dashboard.</p>               \r\n              }\r\n            </div>\r\n          </article>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(reduxForm({ form: \"which_user\" })(WhichUser));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Collapse, Button } from \"reactstrap\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Alert } from \"reactstrap\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  SET_SELECTED_CHILD,\r\n  DELETE_CHORE_DONE,\r\n  DELETE_CHILD,\r\n  DELETE_CHILD_DONE,\r\n  RESET_USER\r\n} from \"../../constants\";\r\nimport api from \"../../api\";\r\n\r\nconst mapStatetoProps = state => ({\r\n  family: state.family,\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToPros = dispatch => ({\r\n  setSelectedChild: child => {\r\n    dispatch({ type: SET_SELECTED_CHILD, child: child });\r\n  },\r\n  deleteChild: (child_id, cbPush, cbVisible) => {\r\n    dispatch({ type: DELETE_CHILD });\r\n    api.Family.deleteChild(child_id)\r\n      .then(payload => {\r\n        dispatch({ type: DELETE_CHILD_DONE, payload });\r\n        dispatch({ type: RESET_USER });\r\n        //if successfule deletion, then redirect to whichUser\r\n        cbPush();\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: DELETE_CHILD_DONE, error: err });\r\n        cbVisible();\r\n      });\r\n  }\r\n});\r\n\r\nclass Options extends Component {\r\n  state = {\r\n    collapse: false,\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n  componentDidMount() {\r\n    //set first child as default selected if none selected\r\n    //dispatch call\r\n    if ((this.props.family || {}).familyData && !this.props.child_id) {\r\n      this.props.setSelectedChild(this.props.family.familyData.children[0]);\r\n    } else if ((this.props.family || {}).familyData && this.props.child_id) {\r\n      let foundChild = this.findChild(this.props.child_id);\r\n      this.props.setSelectedChild(foundChild);\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    //set first child as default selected if none selected\r\n    //dispatch call\r\n    if (\r\n      this.props.child_id &&\r\n      prevProps.family.familyData === null &&\r\n      this.props.family.familyData !== null\r\n    ) {\r\n      let foundChild = this.findChild(this.props.child_id);\r\n      this.props.setSelectedChild(foundChild);\r\n    } else if (\r\n      prevProps.family.familyData === null &&\r\n      this.props.family.familyData !== null\r\n    ) {\r\n      this.props.setSelectedChild(this.props.family.familyData.children[0]);\r\n    }\r\n  }\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false, errorMessage: null });\r\n  };\r\n\r\n  toggle() {\r\n    this.setState({ collapse: !this.state.collapse });\r\n  }\r\n\r\n  _handleChildSelect = e => {\r\n    //find child in family based off id\r\n    let child = this.findChild(e.target.value);\r\n    //dispatch call\r\n    this.props.setSelectedChild(child);\r\n  };\r\n\r\n  findChild = id => {\r\n    let filteredChildren = this.props.family.familyData.children.filter(c => {\r\n      if (c._id === id) return true;\r\n    });\r\n    return filteredChildren[0];\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { family, user } = this.props;\r\n    return (\r\n      <section className=\"option-control mt40 mb20\">\r\n        <div className=\"option-control__top\">\r\n          {/* Form Select goes here for switching between children */}\r\n          <div className=\"option-control__top-child\">\r\n            <span>Child:</span>\r\n            {!this.props.child_id ? (\r\n              <select onChange={e => this._handleChildSelect(e)}>\r\n                {(((family || {}).familyData || {}).children || []).map(c => {\r\n                  return (\r\n                    <option\r\n                      value={c._id}\r\n                      selected={\r\n                        (family.selectedChild || {})._id === c._id && true\r\n                      }\r\n                      key={c._id}\r\n                    >\r\n                      {c.name}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            ) : (\r\n              <select onChange={e => this._handleChildSelect(e)}>\r\n                {(((family || {}).familyData || {}).children || [])\r\n                  .filter(c => c._id === this.props.child_id)\r\n                  .map(c => {\r\n                    return (\r\n                      <option\r\n                        value={c._id}\r\n                        selected={\r\n                          (family.selectedChild || {})._id === c._id && true\r\n                        }\r\n                        key={c._id}\r\n                      >\r\n                        {c.name}\r\n                      </option>\r\n                    );\r\n                  })}\r\n              </select>\r\n            )}\r\n          </div>\r\n\r\n          <Button color=\"primary\" onClick={() => this.toggle()}>\r\n            Options\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"option-control__dropdown\">\r\n          <Collapse isOpen={this.state.collapse}>\r\n            <p>Parent/Child Messaging coming soon...</p>\r\n            <p>\r\n              {user.personType === \"parent\" &&\r\n                (family || {}).fetchingDeleteChild === true && (\r\n                  <Loader type=\"Grid\" color=\"#2e40dc\" height={20} width={20} />\r\n                )}\r\n              {user.personType === \"parent\" &&\r\n                (family || {}).fetchingDeleteChild === false && (\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={() => {\r\n                      this.props.deleteChild(\r\n                        (family.selectedChild || {})._id,\r\n                        () => {\r\n                          localStorage.removeItem(\"parent_jwt\");\r\n                          this.props.history.push(\"/which-user\");\r\n                        },\r\n                        visibleVal => {\r\n                          this.setState({\r\n                            visible: visibleVal,\r\n                            message: \"Could not delete child. Try again later.\"\r\n                          });\r\n                        }\r\n                      );\r\n                    }}\r\n                  >\r\n                    Delete {(family.selectedChild || {}).name}\r\n                  </button>\r\n                )}\r\n            </p>\r\n          </Collapse>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStatetoProps,\r\n  mapDispatchToPros\r\n)(withRouter(Options));\r\n","import React from \"react\";\r\n\r\nconst Widget = props => {\r\n  return (\r\n    <article className={`widget ${props.customClasses}`}>\r\n      {props.children}\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default Widget;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm, Form, SubmissionError, reset } from \"redux-form\";\r\nimport { Alert } from \"reactstrap\";\r\nimport { ADD_CHORE, ADD_CHORE_DONE } from \"../../../constants\";\r\nimport api from \"../../../api\";\r\n\r\nconst mapStateToProps = state => ({\r\n  addChoreForm: state.form.addChore,\r\n  family: state.family\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  addChore: (data, cbReset, cbVisible) => {\r\n    dispatch({ type: ADD_CHORE });\r\n    api.Chore.addChore(data)\r\n      .then(payload => {\r\n        dispatch({ type: ADD_CHORE_DONE, payload: payload });\r\n        cbReset();\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: ADD_CHORE_DONE, error: err });\r\n        cbVisible(true);\r\n        cbReset();\r\n      });\r\n  },\r\n  resetForm: () => {\r\n    //clear form\r\n    dispatch(reset(\"addChore\"));\r\n  }\r\n});\r\n\r\nclass AddChore extends Component {\r\n  state = {\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  handleSubmit = values => {\r\n    let valPass = true;\r\n    //validate\r\n    if (values.chore.length > 30) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Cannot be more than 30 Characters\"\r\n      });\r\n      valPass = false;\r\n      this.props.resetForm();\r\n    }\r\n    if (/[!#$%()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~]/.test(values.chore)) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Cannot use Special Characters\"\r\n      });\r\n      valPass = false;\r\n      this.props.resetForm();\r\n    }\r\n\r\n    //make api call, if validation passed\r\n    if (valPass) {\r\n      this.props.addChore(\r\n        values.chore,\r\n        () => {\r\n          this.props.resetForm();\r\n        },\r\n        visibleVal => {\r\n          this.setState({ visible: visibleVal });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    if (this.props.family.apiError) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.props.family.apiError.response.data.message}\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { handleSubmit } = this.props;\r\n    return (\r\n      <div className=\"mb20\">\r\n        <Form\r\n          className=\"add-chore-form\"\r\n          onSubmit={handleSubmit(this.handleSubmit)}\r\n        >\r\n          <section className=\"form__form-group\">\r\n            <label className=\"form__form-group-label page-widget-title\">\r\n              Add Chore\r\n            </label>\r\n            {this.renderAlert()}\r\n            <div className=\"form__form-group-field\">\r\n              <Field\r\n                name=\"chore\"\r\n                component=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"Dishes, Mop, Vacuum, etc..\"\r\n                required\r\n              />\r\n              <button className=\"btn btn-sm btn-success\" type=\"submit\">\r\n                Add\r\n              </button>\r\n            </div>\r\n          </section>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(reduxForm({ form: \"addChore\" })(AddChore));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Alert } from \"reactstrap\";\r\nimport {\r\n  EDIT_CHORE,\r\n  EDIT_CHORE_DONE,\r\n  DELETE_CHORE,\r\n  DELETE_CHORE_DONE\r\n} from \"../../../constants\";\r\nimport api from \"../../../api\";\r\n\r\nconst mapStateToProps = state => ({\r\n  family: state.family\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  editChore: (data, cbVisible) => {\r\n    dispatch({ type: EDIT_CHORE });\r\n    api.Chore.editChore(data)\r\n      .then(payload => {\r\n        dispatch({ type: EDIT_CHORE_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: EDIT_CHORE_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  },\r\n  deleteChore: (data, cbVisible) => {\r\n    dispatch({ type: DELETE_CHORE });\r\n    api.Chore.deleteChore(data)\r\n      .then(payload => {\r\n        dispatch({ type: DELETE_CHORE_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: DELETE_CHORE_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  }\r\n});\r\n\r\nclass ChoreListItem extends Component {\r\n  static propTypes = {\r\n    selected: PropTypes.bool,\r\n    chore: PropTypes.string\r\n  };\r\n\r\n  state = {\r\n    chore: \"\",\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ chore: this.props.chore });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.selected === true && this.props.selected === false) {\r\n      this.setState({ chore: this.props.chore });\r\n    }\r\n  }\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  handleEditSubmit = (e) => {\r\n    e.preventDefault();\r\n    //validate\r\n    let valPass = true;\r\n    //validate\r\n    if (this.state.chore.length > 30) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Cannot be more than 30 Characters\"\r\n      });\r\n      valPass = false;\r\n      this.setState({ chore: this.props.chore });\r\n    }\r\n    if (/[!#$%()*+,\\-./:;<=>?@[\\\\\\]^_`{|}~]/.test(this.state.chore)) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Cannot use Special Characters\"\r\n      });\r\n      valPass = false;\r\n      this.setState({ chore: this.props.chore });\r\n    }\r\n\r\n    //make api call, if validation passed\r\n    if (valPass) {\r\n      this.props.editChore(\r\n        {\r\n          oldChore: this.props.chore,\r\n          newChore: this.state.chore\r\n        },\r\n        visibleVal => {\r\n          this.setState({ visible: visibleVal });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  handleDeleteSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.deleteChore(this.props.chore, visibleVal => {\r\n      this.setState({ visible: visibleVal });\r\n    });\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    if (this.props.family.apiError) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.props.family.apiError.response.data.message}\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  changeInput = e => {\r\n    this.setState({ chore: e.target.value });\r\n  };\r\n\r\n  renderEditForm = () => {\r\n    return (\r\n      <form \r\n        className=\"chore-list-item__form\"\r\n      >\r\n        <section \r\n          className=\"form__form-group\">\r\n          {this.renderAlert()}\r\n          <div className=\"form__form-group-field\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"chore\"\r\n              value={this.state.chore}\r\n              onChange={e => this.changeInput(e)}\r\n              required\r\n              maxLength=\"30\"\r\n              autoFocus\r\n            />\r\n            <button\r\n              className=\"btn btn-sm btn-success\"\r\n              type=\"submit\"\r\n              onClick={(e)=>{\r\n                this.handleEditSubmit(e)\r\n              }}\r\n            >\r\n              Edit\r\n            </button>\r\n            <button\r\n              className=\"btn btn-sm btn-danger\"\r\n              type=\"submit\"\r\n              onClick={(e)=>this.handleDeleteSubmit(e)}\r\n            >\r\n              X\r\n            </button>\r\n          </div>\r\n        </section>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"chore-list-item\"\r\n        onClick={() => this.props.setSelected(this.props.chore)}        \r\n        onMouseLeave={() => {\r\n          this.props.setSelected(null)\r\n        }}\r\n      >\r\n        {this.props.selected ? (\r\n          this.renderEditForm()\r\n        ) : (\r\n          <p className=\"chore-list-item--not-selected\">{this.props.chore}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ChoreListItem);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ChoreListItem from \"./ChoreListItem\";\r\n\r\nconst mapStateToProps = state => ({\r\n  addChoreForm: state.form.addChore,\r\n  familyData: state.family.familyData,\r\n  fetching: state.family.fetching\r\n});\r\n\r\nclass ChoreList extends Component {\r\n  state = {\r\n    selected: null\r\n  };\r\n  _setSelected = chore => {\r\n    this.setState({ selected: chore });\r\n  };\r\n  _determineSelected = chore => {\r\n    if (chore === this.state.selected) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  handleSubmit = values => {};\r\n\r\n  renderChoresList = () => {\r\n    if (((this.props.familyData || {}).chorelist || []).length > 0) {\r\n      return this.props.familyData.chorelist\r\n        .map((c, idx) => {\r\n          return (\r\n            <ChoreListItem\r\n              chore={c}\r\n              key={c}\r\n              selected={this._determineSelected(c)}\r\n              setSelected={this._setSelected}\r\n            />\r\n          );\r\n        })\r\n        .reverse();\r\n    } else if (((this.props.familyData || {}).chorelist || []).length === 0) {\r\n      return <p>No chores. Please add a chore above.</p>;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"chore-list\">\r\n        <p className=\"page-widget-title\">List of Chores</p>\r\n        {this.props.fetching === true ? (\r\n          <Loader type=\"Grid\" color=\"#2e40dc\" height={20} width={20} />\r\n        ) : (\r\n          this.renderChoresList()\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChoreList);\r\n","import React, { Component } from \"react\";\r\n\r\nimport AddChore from \"./components/AddChore\";\r\nimport ChoreList from \"./components/ChoreList\";\r\n\r\nclass Chore extends Component {\r\n  render() {\r\n    return (\r\n      <section className=\"chores\">\r\n        {/*Form for Adding Chores */}\r\n        <AddChore />\r\n        {/*List of Chores */}\r\n        <ChoreList />\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Chore;\r\n","import React, { Component } from \"react\";\r\n\r\nconst findCompletedStatus = (day, chore, currentSchedule) => {\r\n  let filteredDayArr = (currentSchedule[day] || []).filter(choreObj => {\r\n    if (choreObj.chore === chore) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n  return (filteredDayArr[0] || {}).completed;\r\n};\r\n\r\nclass Tile extends Component {\r\n  state = {\r\n    color: null,\r\n    completed: null,\r\n    rColor: null,\r\n    rCompleted: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.currentSchedule) {\r\n      let completed = findCompletedStatus(\r\n        this.props.day,\r\n        this.props.chore,\r\n        this.props.currentSchedule\r\n      );\r\n      if (completed === true) {\r\n        this.setState({\r\n          color: \"green\",\r\n          completed: true\r\n        });\r\n      } else if (completed === false) {\r\n        this.setState({\r\n          color: \"red\",\r\n          completed: false\r\n        });\r\n      } else if (completed === null) {\r\n        this.setState({\r\n          color: \"white\",\r\n          completed: null\r\n        });\r\n      } else {\r\n        this.setState({\r\n          color: \"white\",\r\n          completed: null\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        color: \"white\",\r\n        completed: null\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let prevCompleted = findCompletedStatus(\r\n      prevProps.day,\r\n      prevProps.chore,\r\n      prevProps.currentSchedule\r\n    );\r\n    let completed = findCompletedStatus(\r\n      this.props.day,\r\n      this.props.chore,\r\n      this.props.currentSchedule\r\n    );\r\n    if (prevCompleted !== completed) {\r\n      if (completed === true) {\r\n        this.setState({\r\n          color: \"green\",\r\n          completed: true\r\n        });\r\n      } else if (completed === false) {\r\n        this.setState({\r\n          color: \"red\",\r\n          completed: false\r\n        });\r\n      } else if (completed === null) {\r\n        this.setState({\r\n          color: \"white\",\r\n          completed: null\r\n        });\r\n      } else {\r\n        this.setState({\r\n          color: \"white\",\r\n          completed: null\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    if (this.props.editable && this.props.editMode) {\r\n      if (this.props.personType === \"parent\") {\r\n        if (this.state.color === \"red\") {\r\n          //call parent function to edit child's chore\r\n          this.props.editChoreInSchedule({\r\n            day: this.props.day,\r\n            chore: this.props.chore,\r\n            nextCompletedStatus: true\r\n          });\r\n          this.setState({\r\n            color: \"green\",\r\n            completed: true\r\n          });\r\n        } else if (this.state.color === \"green\") {\r\n          //call parent function to edit child's chore\r\n          this.props.editChoreInSchedule({\r\n            day: this.props.day,\r\n            chore: this.props.chore,\r\n            nextCompletedStatus: null\r\n          });\r\n          this.setState({\r\n            color: \"white\",\r\n            completed: null\r\n          });\r\n        } else if (this.state.color === \"white\") {\r\n          //call parent function to edit child's chore\r\n          this.props.editChoreInSchedule({\r\n            day: this.props.day,\r\n            chore: this.props.chore,\r\n            nextCompletedStatus: false\r\n          });\r\n          this.setState({\r\n            color: \"red\",\r\n            completed: false\r\n          });\r\n        }\r\n      } else if (this.props.personType === \"child\") {\r\n        if (this.state.color === \"red\") {\r\n          this.props.editChoreInSchedule({\r\n            day: this.props.day,\r\n            chore: this.props.chore,\r\n            nextCompletedStatus: true\r\n          });\r\n          this.setState({\r\n            color: \"green\",\r\n            completed: true\r\n          });\r\n        } else if (this.state.color === \"green\") {\r\n          this.props.editChoreInSchedule({\r\n            day: this.props.day,\r\n            chore: this.props.chore,\r\n            nextCompletedStatus: false\r\n          });\r\n          this.setState({\r\n            color: \"red\",\r\n            completed: false\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={`tile tile--${this.state.color} ${\r\n          this.props.editMode ? \"tile--edit\" : \"tile--no-edit\"\r\n        }`}\r\n        onClick={() => {\r\n          this.handleClick();\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tile;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table } from \"reactstrap\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Tile from \"./components/Tile\";\r\nimport { Alert } from \"reactstrap\";\r\n\r\nimport {\r\n  SAVE_SCHEDULE,\r\n  SAVE_SCHEDULE_DONE,\r\n  SET_FAMILY_DATA,\r\n  SET_FAMILY_DATA_DONE\r\n} from \"../../constants\";\r\nimport api from \"../../api\";\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  family: state.family,\r\n  familyData: state.family.familyData,\r\n  fetching: state.family.fetching,\r\n  selectedChild: state.family.selectedChild,\r\n  personType: state.user.personType\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  saveSchedule: (child_id, schedule, cbVisible, cbEditMode) => {\r\n    dispatch({ type: SAVE_SCHEDULE });\r\n    api.Schedule.saveSchedule(child_id, schedule)\r\n      .then(payload => {\r\n        dispatch({ type: SAVE_SCHEDULE_DONE, payload });\r\n        cbEditMode();\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SAVE_SCHEDULE_DONE, error: err });\r\n        cbVisible(true);\r\n        cbEditMode();\r\n      });\r\n  },\r\n  getFamilyData: () => {\r\n    dispatch({ type: SET_FAMILY_DATA });\r\n    api.Family.getFam().then(payload => {\r\n      dispatch({ type: SET_FAMILY_DATA_DONE, payload });\r\n    });\r\n  }\r\n});\r\n\r\nclass ChoreChart extends Component {\r\n  state = {\r\n    isEditable: false,\r\n    editMode: false,\r\n    schedule: null,\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.selectedChild) {\r\n      this.setState({\r\n        schedule: this.findChildSchedule(this.props.selectedChild._id),\r\n        isEditable: this.props.personType === \"parent\" ? true : false\r\n      });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      (prevProps.selectedChild || {})._id !==\r\n      (this.props.selectedChild || {})._id\r\n    ) {\r\n      this.setState({\r\n        schedule: this.findChildSchedule(this.props.selectedChild._id),\r\n        isEditable:\r\n          this.props.personType === \"parent\" ||\r\n          this.props.personType === \"child\"\r\n            ? true\r\n            : false\r\n      });\r\n    }\r\n    if (prevState.editMode === true && this.state.editMode === false) {\r\n      this.setState({\r\n        schedule: this.findChildSchedule(this.props.selectedChild._id),\r\n        isEditable:\r\n          this.props.personType === \"parent\" ||\r\n          this.props.personType === \"child\"\r\n            ? true\r\n            : false\r\n      });\r\n    }\r\n    if (\r\n      prevProps.fetching !== this.props.fetching &&\r\n      this.props.selectedChild &&\r\n      this.props.personType\r\n    ) {\r\n      this.setState({\r\n        schedule: this.findChildSchedule(this.props.selectedChild._id),\r\n        isEditable:\r\n          this.props.personType === \"parent\" ||\r\n          this.props.personType === \"child\"\r\n            ? true\r\n            : false\r\n      });\r\n    }\r\n  }\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  findChildSchedule = child_id => {\r\n    return (this.props.familyData || {}).schedules.filter(s => {\r\n      if (s.child_id === child_id) {\r\n        return true;\r\n      }\r\n      return false;\r\n    })[0];\r\n  };\r\n\r\n  editChoreInSchedule = ({ day, chore, nextCompletedStatus }) => {\r\n    let copyOfDayArr = [...this.state.schedule[day]];\r\n    //means, we are manipulating or adding to whats already in copyOfDayArr\r\n    if (nextCompletedStatus !== null) {\r\n      //search array for chore object,\r\n      //ill either come up with an object or no object\r\n      if (copyOfDayArr.length > 0) {\r\n        let found = false;\r\n        copyOfDayArr.forEach((choreObj, idx) => {\r\n          if (choreObj.chore === chore) {\r\n            copyOfDayArr[idx].completed = nextCompletedStatus;\r\n            found = true;\r\n          }\r\n        });\r\n        if (!found) {\r\n          //means theres chores in here, but not the one we are looking for\r\n          copyOfDayArr.push({\r\n            chore: chore,\r\n            completed: nextCompletedStatus\r\n          });\r\n        }\r\n        //means this day is completely empty, so add first entry\r\n      } else {\r\n        copyOfDayArr.push({\r\n          chore: chore,\r\n          completed: nextCompletedStatus\r\n        });\r\n      }\r\n      //means theres something in copyOfDayArr that needs to be removed\r\n    } else {\r\n      copyOfDayArr = [...copyOfDayArr].filter((choreObj, idx) => {\r\n        if (choreObj.chore === chore) {\r\n          return false;\r\n        } else return true;\r\n      });\r\n    }\r\n    let newSchedule = { ...this.state.schedule };\r\n    newSchedule[day] = copyOfDayArr;\r\n    this.setState({\r\n      schedule: newSchedule\r\n    });\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.props.family.apiError) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.props.family.apiError.response.data.message}\r\n        </Alert>\r\n      );\r\n    }\r\n  };\r\n\r\n  determineTile = (day, chore) => {\r\n    //find schedule\r\n    let schedule = this.state.schedule || {};\r\n    if (schedule[day] && schedule[day].length > 0) {\r\n      //check if anything assigned matches our current chore\r\n      let filtered = schedule[day].filter(choreObj => {\r\n        if (choreObj.chore === chore) {\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n\r\n      if (filtered.length > 0 && filtered[0].completed === true) {\r\n        return (\r\n          <Tile\r\n            day={day}\r\n            chore={chore}\r\n            currentSchedule={schedule}\r\n            editable={this.state.isEditable}\r\n            editMode={this.state.editMode}\r\n            editChoreInSchedule={this.editChoreInSchedule}\r\n            personType={this.props.personType}\r\n          />\r\n        );\r\n      } else if (filtered.length > 0 && filtered[0].completed === false) {\r\n        return (\r\n          <Tile\r\n            day={day}\r\n            chore={chore}\r\n            currentSchedule={schedule}\r\n            editable={this.state.isEditable}\r\n            editMode={this.state.editMode}\r\n            editChoreInSchedule={this.editChoreInSchedule}\r\n            personType={this.props.personType}\r\n          />\r\n        );\r\n      } else {\r\n        //something was assigned but it didn't fit our chore\r\n        return (\r\n          <Tile\r\n            day={day}\r\n            chore={chore}\r\n            currentSchedule={schedule}\r\n            editable={this.state.isEditable}\r\n            editMode={this.state.editMode}\r\n            editChoreInSchedule={this.editChoreInSchedule}\r\n            personType={this.props.personType}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      //nothing assigned\r\n      return (\r\n        <Tile\r\n          day={day}\r\n          chore={chore}\r\n          currentSchedule={schedule}\r\n          editable={this.state.isEditable}\r\n          editMode={this.state.editMode}\r\n          editChoreInSchedule={this.editChoreInSchedule}\r\n          personType={this.props.personType}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  setEditMode = val => {\r\n    this.setState({\r\n      editMode: val\r\n    });\r\n  };\r\n\r\n  saveSchedule = () => {\r\n    this.props.saveSchedule(\r\n      this.props.selectedChild._id,\r\n      this.state.schedule,\r\n      () => {\r\n        this.setState({ visible: true });\r\n      },\r\n      () => {\r\n        this.setEditMode(false);\r\n      }\r\n    );\r\n  };\r\n\r\n  renderEditButtons = () => {\r\n    if (this.state.isEditable) {\r\n      //isEditable means we are in Parent Dashboard\r\n      if (this.state.editMode === false) {\r\n        return (\r\n          <div className=\"chore-chart-controls\">\r\n            <button\r\n              className=\"btn btn-success\"\r\n              onClick={() => {\r\n                this.setEditMode(true);\r\n              }}\r\n            >\r\n              Edit\r\n            </button>\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div className=\"chore-chart-controls\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => {\r\n                this.saveSchedule();\r\n              }}\r\n            >\r\n              Save\r\n            </button>\r\n            <button\r\n              className=\"btn btn-info\"\r\n              onClick={() => {\r\n                this.setEditMode(false);\r\n                this.props.getFamilyData();\r\n              }}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"chore-chart\">\r\n        <p className=\"page-widget-title\">Chore Chart</p>\r\n        {this.renderAlert()}\r\n        <Table responsive className=\"mt20\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>Mon</th>\r\n              <th>Tues</th>\r\n              <th>Wed</th>\r\n              <th>Thurs</th>\r\n              <th>Fri</th>\r\n              <th>Sat</th>\r\n              <th>Sun</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.props.fetching === true ? (\r\n              <Loader type=\"Grid\" color=\"#2e40dc\" height={20} width={20} />\r\n            ) : null}\r\n            {((this.props.familyData || {}).chorelist || []).map(c => {\r\n              return (\r\n                <tr key={c}>\r\n                  <td>{c}</td>\r\n                  {/*Mon*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"monday\", c)}\r\n                  </td>\r\n                  {/*Tue*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"tuesday\", c)}\r\n                  </td>\r\n                  {/*Wed*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"wednesday\", c)}\r\n                  </td>\r\n                  {/*Thur*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"thursday\", c)}\r\n                  </td>\r\n                  {/*Fri*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"friday\", c)}\r\n                  </td>\r\n                  {/*Sat*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"saturday\", c)}\r\n                  </td>\r\n                  {/*Sun*/}\r\n                  <td className=\"tile-wrapper\">\r\n                    {this.props.selectedChild &&\r\n                      Object.keys(this.state.schedule || []).length > 0 &&\r\n                      this.determineTile(\"sunday\", c)}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </Table>\r\n        {this.renderEditButtons()}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ChoreChart);\r\n","import React, { Component } from \"react\";\r\nimport { Field, reduxForm, Form, SubmissionError, reset } from \"redux-form\";\r\nimport { Alert } from \"reactstrap\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass DisplayReward extends Component {\r\n  state = {\r\n    reward_name: \"\",\r\n    reward_goal: 10,\r\n    showInput: false,\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  // static getDerivedStateFromProps(props, state) {\r\n  //   return {\r\n  //     reward_name: props.reward.reward_name\r\n  //   }\r\n  // }\r\n  // componentDidUpdate(prevProps) {\r\n  //   debugger;\r\n  //   if(this.props.fetchingReward===false && prevProps.fetchingReward===true ) {\r\n  //     this.setState({reward_name: this.props.reward.reward_name})\r\n  //   }\r\n  // }\r\n  componentDidMount() {\r\n    if (\r\n      (this.props.reward || {}).reward_name &&\r\n      (this.props.reward || {}).reward_name !== \"\"\r\n    ) {\r\n      this.setState({\r\n        reward_name: (this.props.reward || {}).reward_name,\r\n        reward_goal: (this.props.reward || {}).reward_goal\r\n      });\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      Object.keys(prevProps.reward).length !==\r\n      Object.keys(this.props.reward).length\r\n    ) {\r\n      this.setState({\r\n        reward_name: (this.props.reward || {}).reward_name,\r\n        reward_goal: (this.props.reward || {}).reward_goal\r\n      });\r\n    }\r\n  }\r\n\r\n  setShowInput = bool => {\r\n    if (this.props.personType !== \"child\") {\r\n      this.setState({ showInput: bool });\r\n    }\r\n  };\r\n\r\n  displayRewardOrNoRewardMessage = () => {\r\n    //if ((this.props.reward||{}).reward_name !=='' && this.state.showInput===false) {\r\n    if (this.state.reward_name !== \"\" && this.state.showInput === false) {\r\n      return (\r\n        <p onClick={() => this.setShowInput(true)}>\r\n          {this.props.reward.reward_name}\r\n        </p>\r\n      );\r\n    } else if (\r\n      this.state.reward_name === \"\" &&\r\n      this.state.showInput === false\r\n    ) {\r\n      return (\r\n        <div>\r\n          <p>There is no reward for this child. </p>\r\n          {!this.state.showInput && (\r\n            <button onClick={() => this.setShowInput(true)}>Add Reward</button>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  addReward = e => {\r\n    e.preventDefault();\r\n    let passed = true;\r\n    let { reward_goal, reward_name } = this.state;\r\n    console.log(\"reward goal\", reward_goal);\r\n    //validate\r\n    //reward_goal\r\n    //cannot be empty\r\n    if (reward_name === \"\") {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Reward cannot be empty\"\r\n      });\r\n      passed = false;\r\n    }\r\n    //reward_goal\r\n    //cannot be empty\r\n    if (!reward_goal) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Reward Goal cannot be empty\"\r\n      });\r\n      passed = false;\r\n    }\r\n\r\n    //make API call\r\n    if (passed) {\r\n      this.props.addReward({ reward_name, reward_goal }, visibleVal => {\r\n        this.setState({ visible: visibleVal });\r\n      });\r\n    }\r\n  };\r\n\r\n  editReward = e => {\r\n    e.preventDefault();\r\n    let passed = true;\r\n    let { reward_goal, reward_name } = this.state;\r\n    console.log(\"reward goal\", reward_goal);\r\n    //validate\r\n    //reward_goal\r\n    //cannot be empty\r\n    if (reward_name === \"\") {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Reward cannot be empty\"\r\n      });\r\n      passed = false;\r\n    }\r\n    //reward_goal\r\n    //cannot be empty\r\n    if (!reward_goal) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Reward Goal cannot be empty\"\r\n      });\r\n      passed = false;\r\n    }\r\n\r\n    //make API call\r\n    if (passed) {\r\n      this.props.editReward({ reward_name, reward_goal }, visibleVal => {\r\n        this.setState({ visible: visibleVal });\r\n      });\r\n    }\r\n  };\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    // if(this.props.family.apiError) {\r\n    //   return (\r\n    //     <Alert color=\"danger\" isOpen={this.state.visible} toggle={this.onDismissAlert}>\r\n    //       {this.props.family.apiError.response.data.message}\r\n    //   </Alert>\r\n    //   )\r\n    // }\r\n  };\r\n\r\n  displayRewardInput = () => {\r\n    if (this.state.showInput) {\r\n      return (\r\n        <form>\r\n          <div className=\"form-group\">\r\n            {this.renderAlert()}\r\n            <input\r\n              className=\"reward-name-input\"\r\n              type=\"text\"\r\n              value={this.state.reward_name}\r\n              onChange={e => this.setState({ reward_name: e.target.value })}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Points to Reach Goal (default 10)</label>\r\n            <input\r\n              className=\"reward-goal-input\"\r\n              type=\"number\"\r\n              value={this.state.reward_goal}\r\n              onChange={e => this.setState({ reward_goal: e.target.value })}\r\n              min=\"1\"\r\n              max=\"100\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"buttons-wrapper\">\r\n            {this.state.reward_name === \"\" ? (\r\n              <button\r\n                onClick={e => this.addReward(e)}\r\n                type=\"submit\"\r\n                className=\"btn btn-sm btn-primary\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={e => this.editReward(e)}\r\n                type=\"submit\"\r\n                className=\"btn btn-sm btn-primary\"\r\n              >\r\n                Save\r\n              </button>\r\n            )}\r\n            <button\r\n              type=\"button\"\r\n              onClick={e => {\r\n                this.setShowInput(false);\r\n              }}\r\n              className=\"btn btn-sm btn-secondary-no-outline\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"display-reward\">\r\n        {this.displayRewardOrNoRewardMessage()}\r\n        {this.props.personType !== \"child\" && this.displayRewardInput()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDisplayReward.propTypes = {\r\n  reward: PropTypes.object.isRequired,\r\n  addReward: PropTypes.func.isRequired,\r\n  editReward: PropTypes.func.isRequired,\r\n  personType: PropTypes.string,\r\n  apiError: PropTypes.object\r\n};\r\n\r\nexport default DisplayReward;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Progress, Alert } from \"reactstrap\";\r\n\r\nclass RewardGoal extends Component {\r\n  state = {\r\n    val: null,\r\n    visible: false,\r\n    errorMessage: null\r\n  };\r\n\r\n  setVal = num => {\r\n    this.setState({ val: num });\r\n  };\r\n\r\n  onDismissAlert = () => {\r\n    this.setState({ visible: false });\r\n  };\r\n\r\n  renderAlert = type => {\r\n    if (this.state.errorMessage) {\r\n      return (\r\n        <Alert\r\n          color=\"danger\"\r\n          isOpen={this.state.visible}\r\n          toggle={this.onDismissAlert}\r\n        >\r\n          {this.state.errorMessage}\r\n        </Alert>\r\n      );\r\n    }\r\n    // if(this.props.family.apiError) {\r\n    //   return (\r\n    //     <Alert color=\"danger\" isOpen={this.state.visible} toggle={this.onDismissAlert}>\r\n    //       {this.props.family.apiError.response.data.message}\r\n    //   </Alert>\r\n    //   )\r\n    // }\r\n  };\r\n\r\n  setGoal = type => {\r\n    let passed = true;\r\n    //validate\r\n    if (this.state.val > 100) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Value cannot be more than 100\"\r\n      });\r\n      passed = false;\r\n    }\r\n    if (this.state.val < 1) {\r\n      this.setState({\r\n        visible: true,\r\n        errorMessage: \"Value cannot be less than 1\"\r\n      });\r\n      passed = false;\r\n    }\r\n    if (passed) {\r\n      this.props.addSubtractGoal(type, this.state.val, bool => {\r\n        this.setState({ visible: true });\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"reward-goal\">\r\n        <p className=\"page-widget-title\">Progress of Reward</p>\r\n        <div className=\"reward-goal__progress-wrapper\">\r\n          <div>\r\n            {this.props.reward.reward_currently} of{\" \"}\r\n            {this.props.reward.reward_goal}\r\n          </div>\r\n          <Progress\r\n            className={`${\r\n              this.props.reward.reward_status === 100 ? \"progress-complete\" : \"\"\r\n            }`}\r\n            value={this.props.reward.reward_status.toFixed(2)}\r\n          />\r\n        </div>\r\n        {this.props.personType !== \"child\" && (\r\n          <div className=\"reward-goal__controls\">\r\n            {this.renderAlert()}\r\n            <div\r\n              onClick={() => this.setGoal(\"subtract\")}\r\n              className=\"reward-goal__controls-sub btn btn-sm btn-danger\"\r\n            >\r\n              Sub\r\n            </div>\r\n            <div className=\"reward-goal__controls-input\">\r\n              <input\r\n                type=\"number\"\r\n                value={this.state.val}\r\n                onChange={e => this.setState({ val: e.target.value })}\r\n                placeholder=\"Number to Add/Subtract\"\r\n              />\r\n            </div>\r\n            <div\r\n              onClick={() => this.setGoal(\"add\")}\r\n              className=\"reward-goal__controls-add btn btn-sm btn-success\"\r\n            >\r\n              Add\r\n            </div>\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nRewardGoal.propTypes = {\r\n  reward: PropTypes.object.isRequired,\r\n  addSubtractGoal: PropTypes.func.isRequired,\r\n  personType: PropTypes.string,\r\n  apiError: PropTypes.object\r\n};\r\n\r\nexport default RewardGoal;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport DisplayReward from \"./components/DisplayReward\";\r\nimport RewardGoal from \"./components/RewardGoal\";\r\n\r\nimport {\r\n  ADD_REWARD,\r\n  ADD_REWARD_DONE,\r\n  EDIT_REWARD,\r\n  EDIT_REWARD_DONE,\r\n  ADD_SUBTRACT_TO_REWARD_GOAL,\r\n  ADD_SUBTRACT_TO_REWARD_GOAL_DONE\r\n} from \"../../constants\";\r\nimport api from \"../../api\";\r\n\r\nconst mapStateToProps = state => ({\r\n  family: state.family,\r\n  fetching: state.family.fetching,\r\n  fetchingReward: state.family.fetchingReward,\r\n  personType: state.user.personType\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  addReward: (child_id, reward, cbVisible) => {\r\n    dispatch({ type: ADD_REWARD });\r\n    api.Reward.addReward(child_id, reward)\r\n      .then(payload => {\r\n        dispatch({ type: ADD_REWARD_DONE, payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: ADD_REWARD_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  },\r\n  editReward: (child_id, reward, cbVisible) => {\r\n    dispatch({ type: EDIT_REWARD });\r\n    api.Reward.editReward(child_id, reward)\r\n      .then(payload => {\r\n        dispatch({ type: EDIT_REWARD_DONE, payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: EDIT_REWARD_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  },\r\n  addSubtract: (child_id, type, val, cbVisible) => {\r\n    dispatch({ type: ADD_SUBTRACT_TO_REWARD_GOAL });\r\n    api.Reward.addSubtractToGoal(child_id, type, val)\r\n      .then(payload => {\r\n        dispatch({ type: ADD_SUBTRACT_TO_REWARD_GOAL_DONE, payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: ADD_SUBTRACT_TO_REWARD_GOAL_DONE, error: err });\r\n        cbVisible(true);\r\n      });\r\n  }\r\n});\r\n\r\nclass Reward extends Component {\r\n  getRewardForSelectedChild = () => {\r\n    let { family } = this.props;\r\n    if (family.familyData && family.selectedChild) {\r\n      let reward = family.familyData.rewards.filter(\r\n        r => r.child_id === family.selectedChild._id\r\n      )[0];\r\n      console.log(\"reward\", reward);\r\n      return reward;\r\n    }\r\n    return;\r\n  };\r\n\r\n  addReward = (reward, cbVisible) => {\r\n    this.props.addReward(\r\n      this.props.family.selectedChild._id,\r\n      reward,\r\n      cbVisible\r\n    );\r\n  };\r\n  editReward = (reward, cbVisible) => {\r\n    this.props.editReward(\r\n      this.props.family.selectedChild._id,\r\n      reward,\r\n      cbVisible\r\n    );\r\n  };\r\n  addSubtractGoal = (type, val, cbVisible) => {\r\n    this.props.addSubtract(\r\n      this.props.family.selectedChild._id,\r\n      type,\r\n      Number(val),\r\n      cbVisible\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let reward = this.getRewardForSelectedChild();\r\n    return (\r\n      <div className=\"reward\">\r\n        <p className=\"page-widget-title\">Reward</p>\r\n        {this.props.fetchingReward || this.props.fetching ? (\r\n          <Loader type=\"Grid\" color=\"#2e40dc\" height={20} width={20} />\r\n        ) : reward ? (\r\n          <div>\r\n            <DisplayReward\r\n              reward={reward || {}}\r\n              addReward={this.addReward}\r\n              editReward={this.editReward}\r\n              personType={this.props.personType}\r\n              apiError={this.props.family.apiError}\r\n              //fetchingReward={this.props.fetchingReward}\r\n            />\r\n            <hr />\r\n            {reward.reward_name ? (\r\n              <RewardGoal\r\n                reward={reward || {}}\r\n                addSubtractGoal={this.addSubtractGoal}\r\n                personType={this.props.personType}\r\n                apiError={this.props.family.apiError}\r\n              />\r\n            ) : null}\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <DisplayReward\r\n              reward={reward || {}}\r\n              addReward={this.addReward}\r\n              editReward={this.editReward}\r\n              personType={this.props.personType}\r\n              apiError={this.props.family.apiError}\r\n              //fetchingReward={this.props.fetchingReward}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Reward);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Options from \"../../components/Options\";\r\nimport { protectRoutes } from \"../../util/utils\";\r\nimport Widget from \"../../components/Widget\";\r\nimport api from \"../../api\";\r\nimport {\r\n  SET_FAMILY_DATA,\r\n  SET_FAMILY_DATA_DONE,\r\n  SET_PERSON_DATA,\r\n  SET_PERSON_DATA_DONE\r\n} from \"../../constants\";\r\n\r\nimport Chores from \"../../components/Chores\";\r\nimport ChoreChart from \"../../components/ChoreChart\";\r\nimport Reward from \"../../components/Reward\";\r\n\r\nconst mapStateToProps = state => ({\r\n  family: state.family,\r\n  user: state.user\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  getFamilyData: () => {\r\n    dispatch({ type: SET_FAMILY_DATA });\r\n    api.Family.getFam()\r\n      .then(payload => {\r\n        dispatch({ type: SET_FAMILY_DATA_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SET_FAMILY_DATA_DONE, error: err });\r\n      });\r\n  },\r\n  getPersonData: (type, id) => {\r\n    dispatch({ type: SET_PERSON_DATA });\r\n    api.User.getPersonData(type, id)\r\n      .then(payload => {\r\n        dispatch({ type: SET_PERSON_DATA_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SET_PERSON_DATA_DONE, error: err });\r\n      });\r\n  }\r\n});\r\n\r\nclass DashboardParent extends Component {\r\n  componentWillMount() {\r\n    //protect route\r\n    protectRoutes(\"parent\", this.props.history.goBack);\r\n  }\r\n  componentDidMount() {\r\n    //if no kids, cannot enter dashboard\r\n    if (\r\n      this.props.family.familyData &&\r\n      (this.props.family.familyData || {}).children.length === 0\r\n    ) {\r\n      //remove parent_jwt\r\n      localStorage.removeItem(\"parent_jwt\");\r\n      this.props.history.goBack();\r\n    }\r\n    //on refresh of page, get family and parent info\r\n    if (!(this.props.family || {}).familyData) {\r\n      this.props.getFamilyData();\r\n      this.props.getPersonData(\"parent\", this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"dashboard-parent\">\r\n        <Options />\r\n        <div>\r\n          {((this.props.user || {}).userData || {}).name\r\n            ? `${this.props.user.userData.name}'s Dashboard`\r\n            : null}\r\n        </div>{\" \"}\r\n        <div className=\"row\">\r\n          {/*CHOREs */}\r\n          <Widget customClasses=\"col-md-5 \">\r\n            <Chores />\r\n          </Widget>\r\n          <Widget customClasses=\"col-md-5 offset-md-2\">\r\n            <Reward />\r\n          </Widget>\r\n        </div>\r\n        <div className=\"row mt40 mb40\">\r\n          <Widget customClasses=\"col-md-12 \">\r\n            {this.props.family.familyData && <ChoreChart />}\r\n          </Widget>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DashboardParent);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Options from \"../../components/Options\";\r\nimport { protectRoutes } from \"../../util/utils\";\r\nimport Widget from \"../../components/Widget\";\r\nimport api from \"../../api\";\r\nimport {\r\n  SET_FAMILY_DATA,\r\n  SET_FAMILY_DATA_DONE,\r\n  SET_PERSON_DATA,\r\n  SET_PERSON_DATA_DONE\r\n} from \"../../constants\";\r\n\r\nimport ChoreChart from \"../../components/ChoreChart\";\r\nimport Reward from \"../../components/Reward\";\r\n\r\nconst mapStateToProps = state => ({\r\n  family: state.family,\r\n  user: state.user\r\n});\r\nconst mapDispatchToProps = dispatch => ({\r\n  getFamilyData: () => {\r\n    dispatch({ type: SET_FAMILY_DATA });\r\n    api.Family.getFam()\r\n      .then(payload => {\r\n        dispatch({ type: SET_FAMILY_DATA_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SET_FAMILY_DATA_DONE, error: err });\r\n      });\r\n  },\r\n  getPersonData: (type, id) => {\r\n    dispatch({ type: SET_PERSON_DATA });\r\n    api.User.getPersonData(type, id)\r\n      .then(payload => {\r\n        dispatch({ type: SET_PERSON_DATA_DONE, payload: payload });\r\n      })\r\n      .catch(err => {\r\n        dispatch({ type: SET_PERSON_DATA_DONE, error: err });\r\n      });\r\n  }\r\n});\r\n\r\nclass DashboardChild extends Component {\r\n  componentWillMount() {\r\n    //protect route\r\n    protectRoutes(\"child\", this.props.history.goBack);\r\n  }\r\n  componentDidMount() {\r\n    //on refresh of page, get family and parent info\r\n    if (!(this.props.family || {}).familyData) {\r\n      this.props.getFamilyData();\r\n      this.props.getPersonData(\"child\", this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"dashboard-parent\">\r\n        <Options child_id={this.props.match.params.id} />\r\n        <div>\r\n          {((this.props.user || {}).userData || {}).name\r\n            ? `${this.props.user.userData.name}'s Dashboard`\r\n            : null}\r\n        </div>\r\n        <div className=\"row mb40\">\r\n          <Widget customClasses=\"col-md-5\">\r\n            <Reward />\r\n          </Widget>\r\n        </div>\r\n        <div className=\"row mb40\">\r\n          <Widget customClasses=\"col-md-12 \">\r\n            <ChoreChart />\r\n          </Widget>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DashboardChild);\r\n","import React, {Component} from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\n//components import\r\nimport Home from './views/Home';\r\nimport FamilyRegister from \"./views/FamilyRegister\";\r\nimport FamilyLogin from \"./views/FamilyLogin\";\r\nimport WhichUser from \"./views/WhichUser\";\r\nimport DashboardParent from './views/DashboardParent';\r\nimport DashboardChild from './views/DashboardChild';\r\n\r\n\r\nclass Router extends Component {\r\n  state = {\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/family-register\" component={FamilyRegister} />\r\n        <Route exact path=\"/family-login\" component={FamilyLogin} />\r\n\r\n        <Route exact path=\"/which-user\" component={WhichUser} />\r\n\r\n        \r\n        <Route exact path=\"/dashboard-parent/:id\" component={DashboardParent} />\r\n        <Route exact path=\"/dashboard-child/:id\" component={DashboardChild} />\r\n\r\n\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\n// <Route render={() =>{\r\n//   return <Redirect to={this._determineRedirectRoute()} />\r\n// } } />\r\nexport default Router;\r\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport Loader from \"react-loader-spinner\";\nimport Router from \"./Router\";\nimport \"./scss/app.scss\";\nimport Nav from \"./components/Navigation\";\n\nimport {\n  SET_IS_FAM_AUTH,\n  SET_IS_PARENT_AUTH,\n  SET_IS_CHILD_AUTH\n} from \"./constants\";\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  family: state.family\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setIsFamAuth: auth => {\n    dispatch({ type: SET_IS_FAM_AUTH, auth });\n  },\n  setIsParentAuth: auth => {\n    dispatch({ type: SET_IS_PARENT_AUTH, auth });\n  },\n  setIsChildAuth: auth => {\n    dispatch({ type: SET_IS_CHILD_AUTH, auth });\n  }\n});\n\nexport class App extends Component {\n  state = {\n    loading: true,\n    loaded: false\n  };\n  componentDidMount() {\n    // window.addEventListener(\"load\", () => {\n    //   this.setState({ loading: false });\n    //   setTimeout(() => this.setState({ loaded: true }), 500);\n    // });\n\n    this._checkJWT();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.family !== prevProps.family) {\n      this._checkJWT();\n    }\n  }\n\n  _checkJWT = () => {\n    if (!this.props.family.isFamAuth) {\n      //check family_jwt\n      if (localStorage.getItem(\"family_jwt\")) {\n        //set isFamAuth\n        this.props.setIsFamAuth(true);\n        //check parent_jwt\n        if (localStorage.getItem(\"parent_jwt\")) {\n          this.props.setIsParentAuth(true);\n        }\n        //check child_jwt\n        if (localStorage.getItem(\"child_jwt\")) {\n          this.props.setIsChildAuth(true);\n        }\n      }\n    }\n  };\n\n  render() {\n    const loaded = this.state.loaded;\n    return (\n      <div className=\"App\">\n        <Nav />\n        <div\n          className={`${\n            this.props.location.pathname === \"/\"\n              ? \"container-full\"\n              : \"container\"\n          }`}\n        >\n          <Router family={this.props.family} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(App));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Router} from 'react-router-dom';\nimport {createLogger}  from 'redux-logger';\nimport createHistory from 'history/createBrowserHistory';\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport rootReducer from './reducers';\nimport App from './App';\n\n//import './api/agent';\n\n const middlewares = [thunk]\n export const store = createStore(rootReducer, applyMiddleware(...middlewares, createLogger()))\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router history={createHistory()} >\n      <App />    \n    </Router>\n  </Provider>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}